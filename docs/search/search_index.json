{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Suda \u5b98\u7f51 Github\u6e90\u7801 PSR\u7f16\u7801\u89c4\u8303","title":"\u6b22\u8fce\u4f7f\u7528"},{"location":"certi/","text":"\u5b89\u88c5\u7ec4\u4ef6 1. \u5b89\u88c5 Loaders \u52a0\u5bc6\u7248\u672c\u8bf7\u5148\u5b89\u88c5 loaders \u5e73\u53f0 \u4e0b\u8f7d\u5730\u5740 linux ixed.7.1.lin linux ixed.7.2.lin windows ixed.7.1.win windows ixed.7.2.win MacOs ixed.7.1.dar MacOs ixed.7.2.dar \u4ee5 Linux \u914d\u7f6e\u4e3a\u4f8b \u90e8\u7f72ixed.7.1.lin php/lib/php/extensions/no-debug-non-zts-20131226/ixed.7.1.lin \u914d\u7f6ephp.ini extension = ixed.7.1.lin \u91cd\u542f nginx/php-fpm \u5b8c\u6210\u914d\u7f6e \u6388\u6743\u8bf4\u660e \u5546\u4e1a\u6388\u6743 \u9700\u8d2d\u4e70\u6388\u6743\uff0c\u5177\u4f53\u8bf7\u54a8\u8be2 suda@ecdo.co \u53d8\u66f4\u6388\u6743 \u7cfb\u7edf\u6388\u6743\u53d8\u66f4\u8bf7\u90ae\u4ef6\u81f3 suda@ecdo.co \u7533\u8bf7\u66f4\u6362\u3002","title":"Certi"},{"location":"certi/#_1","text":"","title":"\u5b89\u88c5\u7ec4\u4ef6"},{"location":"certi/#1-loaders","text":"\u52a0\u5bc6\u7248\u672c\u8bf7\u5148\u5b89\u88c5 loaders \u5e73\u53f0 \u4e0b\u8f7d\u5730\u5740 linux ixed.7.1.lin linux ixed.7.2.lin windows ixed.7.1.win windows ixed.7.2.win MacOs ixed.7.1.dar MacOs ixed.7.2.dar \u4ee5 Linux \u914d\u7f6e\u4e3a\u4f8b \u90e8\u7f72ixed.7.1.lin php/lib/php/extensions/no-debug-non-zts-20131226/ixed.7.1.lin \u914d\u7f6ephp.ini extension = ixed.7.1.lin \u91cd\u542f nginx/php-fpm \u5b8c\u6210\u914d\u7f6e","title":"1. \u5b89\u88c5 Loaders"},{"location":"certi/#_2","text":"","title":"\u6388\u6743\u8bf4\u660e"},{"location":"certi/#_3","text":"\u9700\u8d2d\u4e70\u6388\u6743\uff0c\u5177\u4f53\u8bf7\u54a8\u8be2 suda@ecdo.co","title":"\u5546\u4e1a\u6388\u6743"},{"location":"certi/#_4","text":"\u7cfb\u7edf\u6388\u6743\u53d8\u66f4\u8bf7\u90ae\u4ef6\u81f3 suda@ecdo.co \u7533\u8bf7\u66f4\u6362\u3002","title":"\u53d8\u66f4\u6388\u6743"},{"location":"dev-command/","text":"\u5e38\u7528\u547d\u4ee4 \u5b8c\u6210\u5b89\u88c5 php artisan suda:install \u9759\u6001\u8d44\u6e90\u66f4\u65b0 php artisan suda:reset assets \u4e3b\u9898\u98ce\u683c\u66f4\u65b0 php artisan suda:reset themes \u67e5\u770b\u6388\u6743 php artisan suda:lic","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"dev-extension/","text":"1.\u5e94\u7528\u76ee\u5f55\u8bf4\u660e \u76ee\u5f55 \u251c\u2500\u2500 Demo \u2502 \u251c\u2500\u2500 Controllers (\u63a7\u5236\u5668) \u2502 \u2502 \u251c\u2500\u2500 Admin \u2502 \u2502 \u2514\u2500\u2500 Site \u2502 \u251c\u2500\u2500 Models \uff08\u6a21\u578b\u5c42\uff09 \u2502 \u251c\u2500\u2500 publish \uff08\u8d44\u6e90\uff09 \u2502 \u2502 \u251c\u2500\u2500 assets \uff08\u5b89\u88c5\u540e\u62f7\u8d1d\u81f3Public/extensions/demo\u76ee\u5f55\uff09 \u2502 \u2502 \u2514\u2500\u2500 database \u2502 \u2502 \u2514\u2500\u2500 migrations \u5b89\u88c5\u540e\u62f7\u8d1d\u81f3 /database/migrations/extensions \u2502 \u251c\u2500\u2500 resources \u2502 \u2502 \u2514\u2500\u2500 views \u2502 \u2502 \u251c\u2500\u2500 admin \u2502 \u2502 \u2514\u2500\u2500 site \u2502 \u2502 \u2514\u2500\u2500 layouts \u2502 \u2514\u2500\u2500 routes \u2502 \u251c\u2500\u2500 config.php \u914d\u7f6e\u6587\u4ef6 \u2502 \u251c\u2500\u2500 icon.png \u5e94\u7528\u6807\u5fd7 \u2502 \u251c\u2500\u2500 menu.php \u83dc\u5355\u914d\u7f6e \u2502 \u251c\u2500\u2500 auth_setting.php \u9644\u5c5e\u6743\u9650\u914d\u7f6e \u5e94\u7528slug\u662f\u552f\u4e00\u800c\u4e14\u5177\u6709\u62cd\u5b83\u6027\uff0c\u5efa\u8bae\u4fdd\u6301slug\u7684\u552f\u4e00\u6027\u3002 2.\u57fa\u672c\u914d\u7f6e\u53c2\u6570 config.php <?php return [ 'extkey' => '', 'name' => '\u9ed8\u8ba4\u6f14\u793a\u5e94\u7528', 'slug' => 'demo', 'description'=> '\u6b64\u5e94\u7528\u4ec5\u7528\u4e8e\u6f14\u793a', 'version' => '1.0', 'date' => '2018\u5e748\u670815\u65e5', 'author' => 'ECDO', 'email' => 'hi@ecdo.co', 'website' => 'https://www.ecdo.co', 'setting' => [ 'default_page' => 'demo/index', 'setting_page' => 'demo/setting', ], ]; extkey \u5e94\u7528\u552f\u4e00\u7684Key\uff0c\u9700\u8981\u5728\u540e\u53f0\u7533\u8bf7\u586b\u5199 name \u5e94\u7528\u540d\u79f0 slug \u5e94\u7528\u7684\u552f\u4e00\u8def\u5f84 description \u5e94\u7528\u63cf\u8ff0 version \u5e94\u7528\u7248\u672c date \u5e94\u7528\u53d1\u5e03\u65e5\u671f author \u5e94\u7528\u5f00\u53d1\u8005 email \u5e94\u7528\u5f00\u53d1\u8005\u8054\u7cfb\u90ae\u7bb1 website \u5e94\u7528\u5f00\u53d1\u8005\u5b98\u7f51 setting \u5e94\u7528\u914d\u7f6e\u53c2\u6570\uff0c\u652f\u6301\u914d\u7f6e\u9ed8\u8ba4\u7684\u9996\u9875\u548c\u8bbe\u7f6e\u9875\u5165\u53e3 icon.png \u5efa\u8bae\u5927\u5c0f 500*500 \u50cf\u7d20\u6b63\u65b9\u5f62\u56fe\u7247 3.\u83dc\u5355\u8bbe\u7f6e \u5728\u5e94\u7528\u76ee\u5f55\u4e0b\u8bbe\u7f6emenu.php, \u652f\u6301\u4e09\u79cd\u65b9\u5f0f\u6765\u8bbe\u7f6e\u83dc\u5355 menu.php 1) \u72ec\u7acb\u83dc\u5355 \u72ec\u7acb\u83dc\u5355\u7684\u91cd\u8981\u8bbe\u7f6e\u9879\u662f\uff1a \u83dc\u5355\u6570\u7ec4\u7684\u952e\u503c\u72ec\u7acb\u8bbe\u7f6e\uff0c\u5efa\u8bae\u4ee5 \u5e94\u7528slug_menu \u7684\u65b9\u5f0f\u8bbe\u7f6e\uff0c\u5982\u793a\u4f8b\u4ee3\u7801\u3002 order\u662f\u7528\u4e8e\u6392\u5e8f <?php return [ 'demo_menu'=>[ 'title' => '\u6f14\u793a\u5e94\u7528', 'slug' => 'demo_menu', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-stack', 'target' => '_self', 'hidden' => true, 'order' => 0, 'children' => [ [ 'title' => '\u6f14\u793a\u9996\u9875', 'slug' => 'demo_index', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-home', 'target' => '_self', 'order' => 0, ], ], ], ]; 2) \u83dc\u5355\u7ec4\u6269\u5c55 \u5176\u4e2d extend \u5c5e\u6027\u8bbe\u7f6e\u4e3a true\uff08\u5fc5\u987b\u8bbe\u7f6e order\u5c5e\u6027\u662f\u4ece\u5c0f\u5230\u5927\u6392\u5217\uff0c\u8bbe\u7f6e\u8d8a\u5c0f\u6392\u5e8f\u8d8a\u9760\u524d 'demo_menu2'=>[ 'extend' => true, 'title' => '\u6f14\u793a\u5e94\u7528', 'slug' => 'demo_menu2', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-stack', 'target' => '_self', 'order' => 99, 'children' => [], ], \u8fd9\u6837\u6269\u5c55\u7684\u662f\u83dc\u5355\u7ec4\uff0c\u5373\u5728\u5de6\u4fa7\u83dc\u5355\u5217\u8868\u65b0\u589e\u4e00\u4e2a\u5b8c\u6574\u7684\u83dc\u5355\u7ed3\u6784\u3002 3) \u83dc\u5355\u9879\u6269\u5c55 \u4f8b\u5982\u6269\u5c55\u83dc\u5355\u7ec4page\u4e0b\u9762\u7684\u83dc\u5355\u9879. 'suda'=>[ 'page'=>[ 'children' => [ [ 'title' => '\u6f14\u793a\u9996\u9875', 'slug' => 'demo_index', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-home', 'target' => '_self', 'order' => 0, ], ], ] ] \u8bf4\u660e\uff1a \u5fc5\u987b\u662f\u4ee5 suda \u4f5c\u4e3a\u83dc\u5355\u7ec4\u7684key\u503c page \u662f\u5bf9\u5e94\u83dc\u5355\u7ec4\u7684slug\u3002\u5728\u5f00\u53d1\u65f6\u5bf9\u5e94\u6269\u5c55\u83dc\u5355\u7684slug\u5373\u53ef 4.\u8def\u7531\u914d\u7f6e \u4f8b\u5982Demo\u5e94\u7528\u7684 routes/admin.php \u5982\u4e0b\uff0c\u9700\u8981\u6307\u5b9a\u5e94\u7528\u7684\u63a7\u5236\u5668\u8def\u5f84 $controller_prefix = \"\\\\App\\\\Extensions\\\\Demo\\\\Controllers\\\\Admin\\\\\"; Route::get('demo/index', $controller_prefix.'HomeController@index'); 5.\u63a7\u5236\u5668 App\\Extensions\\Demo\\Controllers\\AdminController.php <?php namespace App\\Extensions\\Demo\\Controllers; use Gtd\\Suda\\Http\\Controllers\\Admin\\ExtensionController; class AdminController extends ExtensionController{ //\u662f\u5426\u72ec\u7acb\u663e\u793a\u83dc\u5355 public $single_extension_menu = true; } 6.Model\u793a\u4f8b App\\Extensions\\Demo\\Models\\Demo.php <?php namespace App\\Extensions\\Demo\\Models; use Illuminate\\Database\\Eloquent\\Model; class Demo extends Model { protected $table = 'demos'; } 7. \u7cfb\u7edf\u5185\u7f6e\u83dc\u5355slug \u63a7\u5236\u9762\u677f dashboard \u9875\u9762 page \u6587\u7ae0 article \u5a92\u4f53 media \u7528\u6237 user \u5916\u89c2 appearance \u7cfb\u7edf setting \u5de5\u5177 tool 8. \u6269\u5c55\u7cfb\u7edf\u6743\u9650 Zest \u76ee\u524d\u5df2\u7ecf\u96c6\u6210\u4e86\u5e94\u7528\u6743\u9650\u7ba1\u7406\uff0c\u652f\u6301\u8bbe\u7f6e\u5e94\u7528\u7684\u83dc\u5355\u6743\u9650\uff0c\u4ece\u800c\u63a7\u5236\u4e0d\u540c\u8d26\u53f7\u7684\u4eba\u53ef\u4ee5\u770b\u5230\u4e0d\u540c\u7684\u5e94\u7528\u83dc\u5355\u3002 \u65b0\u589e auth_setting.php \u653e\u7f6e\u5728\u5e94\u7528\u6839\u76ee\u5f55\u4e0b <?php //\u914d\u7f6e\u76f8\u5e94\u7684\u6743\u9650 return [ 'store'=>[ 'name'=>'\u5173\u8054\u6743\u9650', 'setting'=>'App\\Extensions\\Demo\\Models\\Store@getAll', ], ]; <?php namespace App\\Extensions\\Demo\\Models; class Store { public function getAll() { $stores = Store::where([])->get()->toArray(); return $stores; } } \u8fd4\u56de\u7684\u6570\u7ec4\u683c\u5f0f\u5fc5\u987b\u662f\u4ee5\u4e0b\u683c\u5f0f,\u5305\u542bid\u548cname $stores = [ [ 'id'=>1, 'name'=>'\u95e8\u5e971', ], [ 'id'=>2, 'name'=>'\u95e8\u5e972', ], ]; \u5237\u65b0\u5e94\u7528\u540e\uff0c\u5728\u7cfb\u7edf\u4e2d\u914d\u7f6e\u5e94\u7528\u6743\u9650\u65f6\uff0c\u5373\u53ef\u770b\u5230\u914d\u7f6e\u9879. \u5728\u63a7\u5236\u5176\u4e2d\u83b7\u53d6\u7528\u6237\u7684\u89d2\u8272\u6743\u9650\uff0c\u5c06\u4f1a\u5f97\u5230\u81ea\u5b9a\u4e49\u6743\u9650\u53d8\u91cf $permissions['exts']['\u5e94\u7528slug']['#auth'] 9. \u4e0b\u8f7dDemo\u5e94\u7528 \u5e94\u7528\u5305\u653e\u7f6e\u5728 app\\Extensions \u76ee\u5f55","title":"\u5f00\u53d1\u5e94\u7528"},{"location":"dev-extension/#1","text":"\u76ee\u5f55 \u251c\u2500\u2500 Demo \u2502 \u251c\u2500\u2500 Controllers (\u63a7\u5236\u5668) \u2502 \u2502 \u251c\u2500\u2500 Admin \u2502 \u2502 \u2514\u2500\u2500 Site \u2502 \u251c\u2500\u2500 Models \uff08\u6a21\u578b\u5c42\uff09 \u2502 \u251c\u2500\u2500 publish \uff08\u8d44\u6e90\uff09 \u2502 \u2502 \u251c\u2500\u2500 assets \uff08\u5b89\u88c5\u540e\u62f7\u8d1d\u81f3Public/extensions/demo\u76ee\u5f55\uff09 \u2502 \u2502 \u2514\u2500\u2500 database \u2502 \u2502 \u2514\u2500\u2500 migrations \u5b89\u88c5\u540e\u62f7\u8d1d\u81f3 /database/migrations/extensions \u2502 \u251c\u2500\u2500 resources \u2502 \u2502 \u2514\u2500\u2500 views \u2502 \u2502 \u251c\u2500\u2500 admin \u2502 \u2502 \u2514\u2500\u2500 site \u2502 \u2502 \u2514\u2500\u2500 layouts \u2502 \u2514\u2500\u2500 routes \u2502 \u251c\u2500\u2500 config.php \u914d\u7f6e\u6587\u4ef6 \u2502 \u251c\u2500\u2500 icon.png \u5e94\u7528\u6807\u5fd7 \u2502 \u251c\u2500\u2500 menu.php \u83dc\u5355\u914d\u7f6e \u2502 \u251c\u2500\u2500 auth_setting.php \u9644\u5c5e\u6743\u9650\u914d\u7f6e \u5e94\u7528slug\u662f\u552f\u4e00\u800c\u4e14\u5177\u6709\u62cd\u5b83\u6027\uff0c\u5efa\u8bae\u4fdd\u6301slug\u7684\u552f\u4e00\u6027\u3002","title":"1.\u5e94\u7528\u76ee\u5f55\u8bf4\u660e"},{"location":"dev-extension/#2","text":"config.php <?php return [ 'extkey' => '', 'name' => '\u9ed8\u8ba4\u6f14\u793a\u5e94\u7528', 'slug' => 'demo', 'description'=> '\u6b64\u5e94\u7528\u4ec5\u7528\u4e8e\u6f14\u793a', 'version' => '1.0', 'date' => '2018\u5e748\u670815\u65e5', 'author' => 'ECDO', 'email' => 'hi@ecdo.co', 'website' => 'https://www.ecdo.co', 'setting' => [ 'default_page' => 'demo/index', 'setting_page' => 'demo/setting', ], ]; extkey \u5e94\u7528\u552f\u4e00\u7684Key\uff0c\u9700\u8981\u5728\u540e\u53f0\u7533\u8bf7\u586b\u5199 name \u5e94\u7528\u540d\u79f0 slug \u5e94\u7528\u7684\u552f\u4e00\u8def\u5f84 description \u5e94\u7528\u63cf\u8ff0 version \u5e94\u7528\u7248\u672c date \u5e94\u7528\u53d1\u5e03\u65e5\u671f author \u5e94\u7528\u5f00\u53d1\u8005 email \u5e94\u7528\u5f00\u53d1\u8005\u8054\u7cfb\u90ae\u7bb1 website \u5e94\u7528\u5f00\u53d1\u8005\u5b98\u7f51 setting \u5e94\u7528\u914d\u7f6e\u53c2\u6570\uff0c\u652f\u6301\u914d\u7f6e\u9ed8\u8ba4\u7684\u9996\u9875\u548c\u8bbe\u7f6e\u9875\u5165\u53e3 icon.png \u5efa\u8bae\u5927\u5c0f 500*500 \u50cf\u7d20\u6b63\u65b9\u5f62\u56fe\u7247","title":"2.\u57fa\u672c\u914d\u7f6e\u53c2\u6570"},{"location":"dev-extension/#3","text":"\u5728\u5e94\u7528\u76ee\u5f55\u4e0b\u8bbe\u7f6emenu.php, \u652f\u6301\u4e09\u79cd\u65b9\u5f0f\u6765\u8bbe\u7f6e\u83dc\u5355 menu.php","title":"3.\u83dc\u5355\u8bbe\u7f6e"},{"location":"dev-extension/#1_1","text":"\u72ec\u7acb\u83dc\u5355\u7684\u91cd\u8981\u8bbe\u7f6e\u9879\u662f\uff1a \u83dc\u5355\u6570\u7ec4\u7684\u952e\u503c\u72ec\u7acb\u8bbe\u7f6e\uff0c\u5efa\u8bae\u4ee5 \u5e94\u7528slug_menu \u7684\u65b9\u5f0f\u8bbe\u7f6e\uff0c\u5982\u793a\u4f8b\u4ee3\u7801\u3002 order\u662f\u7528\u4e8e\u6392\u5e8f <?php return [ 'demo_menu'=>[ 'title' => '\u6f14\u793a\u5e94\u7528', 'slug' => 'demo_menu', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-stack', 'target' => '_self', 'hidden' => true, 'order' => 0, 'children' => [ [ 'title' => '\u6f14\u793a\u9996\u9875', 'slug' => 'demo_index', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-home', 'target' => '_self', 'order' => 0, ], ], ], ];","title":"1) \u72ec\u7acb\u83dc\u5355"},{"location":"dev-extension/#2_1","text":"\u5176\u4e2d extend \u5c5e\u6027\u8bbe\u7f6e\u4e3a true\uff08\u5fc5\u987b\u8bbe\u7f6e order\u5c5e\u6027\u662f\u4ece\u5c0f\u5230\u5927\u6392\u5217\uff0c\u8bbe\u7f6e\u8d8a\u5c0f\u6392\u5e8f\u8d8a\u9760\u524d 'demo_menu2'=>[ 'extend' => true, 'title' => '\u6f14\u793a\u5e94\u7528', 'slug' => 'demo_menu2', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-stack', 'target' => '_self', 'order' => 99, 'children' => [], ], \u8fd9\u6837\u6269\u5c55\u7684\u662f\u83dc\u5355\u7ec4\uff0c\u5373\u5728\u5de6\u4fa7\u83dc\u5355\u5217\u8868\u65b0\u589e\u4e00\u4e2a\u5b8c\u6574\u7684\u83dc\u5355\u7ed3\u6784\u3002","title":"2) \u83dc\u5355\u7ec4\u6269\u5c55"},{"location":"dev-extension/#3_1","text":"\u4f8b\u5982\u6269\u5c55\u83dc\u5355\u7ec4page\u4e0b\u9762\u7684\u83dc\u5355\u9879. 'suda'=>[ 'page'=>[ 'children' => [ [ 'title' => '\u6f14\u793a\u9996\u9875', 'slug' => 'demo_index', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-home', 'target' => '_self', 'order' => 0, ], ], ] ] \u8bf4\u660e\uff1a \u5fc5\u987b\u662f\u4ee5 suda \u4f5c\u4e3a\u83dc\u5355\u7ec4\u7684key\u503c page \u662f\u5bf9\u5e94\u83dc\u5355\u7ec4\u7684slug\u3002\u5728\u5f00\u53d1\u65f6\u5bf9\u5e94\u6269\u5c55\u83dc\u5355\u7684slug\u5373\u53ef","title":"3) \u83dc\u5355\u9879\u6269\u5c55"},{"location":"dev-extension/#4","text":"\u4f8b\u5982Demo\u5e94\u7528\u7684 routes/admin.php \u5982\u4e0b\uff0c\u9700\u8981\u6307\u5b9a\u5e94\u7528\u7684\u63a7\u5236\u5668\u8def\u5f84 $controller_prefix = \"\\\\App\\\\Extensions\\\\Demo\\\\Controllers\\\\Admin\\\\\"; Route::get('demo/index', $controller_prefix.'HomeController@index');","title":"4.\u8def\u7531\u914d\u7f6e"},{"location":"dev-extension/#5","text":"App\\Extensions\\Demo\\Controllers\\AdminController.php <?php namespace App\\Extensions\\Demo\\Controllers; use Gtd\\Suda\\Http\\Controllers\\Admin\\ExtensionController; class AdminController extends ExtensionController{ //\u662f\u5426\u72ec\u7acb\u663e\u793a\u83dc\u5355 public $single_extension_menu = true; }","title":"5.\u63a7\u5236\u5668"},{"location":"dev-extension/#6model","text":"App\\Extensions\\Demo\\Models\\Demo.php <?php namespace App\\Extensions\\Demo\\Models; use Illuminate\\Database\\Eloquent\\Model; class Demo extends Model { protected $table = 'demos'; }","title":"6.Model\u793a\u4f8b"},{"location":"dev-extension/#7-slug","text":"\u63a7\u5236\u9762\u677f dashboard \u9875\u9762 page \u6587\u7ae0 article \u5a92\u4f53 media \u7528\u6237 user \u5916\u89c2 appearance \u7cfb\u7edf setting \u5de5\u5177 tool","title":"7. \u7cfb\u7edf\u5185\u7f6e\u83dc\u5355slug"},{"location":"dev-extension/#8","text":"Zest \u76ee\u524d\u5df2\u7ecf\u96c6\u6210\u4e86\u5e94\u7528\u6743\u9650\u7ba1\u7406\uff0c\u652f\u6301\u8bbe\u7f6e\u5e94\u7528\u7684\u83dc\u5355\u6743\u9650\uff0c\u4ece\u800c\u63a7\u5236\u4e0d\u540c\u8d26\u53f7\u7684\u4eba\u53ef\u4ee5\u770b\u5230\u4e0d\u540c\u7684\u5e94\u7528\u83dc\u5355\u3002 \u65b0\u589e auth_setting.php \u653e\u7f6e\u5728\u5e94\u7528\u6839\u76ee\u5f55\u4e0b <?php //\u914d\u7f6e\u76f8\u5e94\u7684\u6743\u9650 return [ 'store'=>[ 'name'=>'\u5173\u8054\u6743\u9650', 'setting'=>'App\\Extensions\\Demo\\Models\\Store@getAll', ], ]; <?php namespace App\\Extensions\\Demo\\Models; class Store { public function getAll() { $stores = Store::where([])->get()->toArray(); return $stores; } } \u8fd4\u56de\u7684\u6570\u7ec4\u683c\u5f0f\u5fc5\u987b\u662f\u4ee5\u4e0b\u683c\u5f0f,\u5305\u542bid\u548cname $stores = [ [ 'id'=>1, 'name'=>'\u95e8\u5e971', ], [ 'id'=>2, 'name'=>'\u95e8\u5e972', ], ]; \u5237\u65b0\u5e94\u7528\u540e\uff0c\u5728\u7cfb\u7edf\u4e2d\u914d\u7f6e\u5e94\u7528\u6743\u9650\u65f6\uff0c\u5373\u53ef\u770b\u5230\u914d\u7f6e\u9879. \u5728\u63a7\u5236\u5176\u4e2d\u83b7\u53d6\u7528\u6237\u7684\u89d2\u8272\u6743\u9650\uff0c\u5c06\u4f1a\u5f97\u5230\u81ea\u5b9a\u4e49\u6743\u9650\u53d8\u91cf $permissions['exts']['\u5e94\u7528slug']['#auth']","title":"8. \u6269\u5c55\u7cfb\u7edf\u6743\u9650"},{"location":"dev-extension/#9-demo","text":"\u5e94\u7528\u5305\u653e\u7f6e\u5728 app\\Extensions \u76ee\u5f55","title":"9. \u4e0b\u8f7dDemo\u5e94\u7528"},{"location":"dev-files/","text":"\u76ee\u5f55\u8bf4\u660e /gtd/suda migrations \u6570\u636e\u8868 publish/assets \u9759\u6001\u8d44\u6e90 publish/config \u914d\u7f6e\u6587\u4ef6 publish/database/seeds \u521d\u59cb\u5316\u6570\u636e publish/demo \u521d\u59cb\u5316\u6570\u636e publish/lang \u8bed\u8a00\u5305\uff0c\u76ee\u524d\u4ec5\u652f\u6301\u4e2d\u6587 publish/theme \u6a21\u677f resouces/assets \u9759\u6001\u8d44\u6e90/\u672a\u538b\u7f29 resouces/views view\u6587\u4ef6 routes/ \u8def\u7531\u914d\u7f6e src PHP\u6587\u4ef6 \u4e09\u65b9\u6269\u5c55 \u6269\u5c55\u540d\u79f0 \u7248\u672c \u5907\u6ce8 intervention/image ^2.4 \u56fe\u7247\u5904\u7406 arrilot/laravel-widgets ^3.11 \u63a7\u5236\u9762\u677f\u6302\u4ef6 willvincent/feeds 1.1.* \u8bfb\u53d6\u89e3\u6790feeds cviebrock/eloquent-sluggable ^4.1.0 simplesoftwareio/simple-qrcode ^1.5 qrcode\u751f\u6210","title":"\u76ee\u5f55\u4fe1\u606f"},{"location":"dev-files/#_1","text":"/gtd/suda migrations \u6570\u636e\u8868 publish/assets \u9759\u6001\u8d44\u6e90 publish/config \u914d\u7f6e\u6587\u4ef6 publish/database/seeds \u521d\u59cb\u5316\u6570\u636e publish/demo \u521d\u59cb\u5316\u6570\u636e publish/lang \u8bed\u8a00\u5305\uff0c\u76ee\u524d\u4ec5\u652f\u6301\u4e2d\u6587 publish/theme \u6a21\u677f resouces/assets \u9759\u6001\u8d44\u6e90/\u672a\u538b\u7f29 resouces/views view\u6587\u4ef6 routes/ \u8def\u7531\u914d\u7f6e src PHP\u6587\u4ef6","title":"\u76ee\u5f55\u8bf4\u660e"},{"location":"dev-files/#_2","text":"\u6269\u5c55\u540d\u79f0 \u7248\u672c \u5907\u6ce8 intervention/image ^2.4 \u56fe\u7247\u5904\u7406 arrilot/laravel-widgets ^3.11 \u63a7\u5236\u9762\u677f\u6302\u4ef6 willvincent/feeds 1.1.* \u8bfb\u53d6\u89e3\u6790feeds cviebrock/eloquent-sluggable ^4.1.0 simplesoftwareio/simple-qrcode ^1.5 qrcode\u751f\u6210","title":"\u4e09\u65b9\u6269\u5c55"},{"location":"icons/","text":"\u56fe\u6807\u89c4\u8303 \u5e94\u7528\u56fe\u6807\u89c4\u8303 \u56fe\u6807\u5927\u5c0f 500*500 \u50cf\u7d20 \u56fe\u6807\u5185\u5185\u5bb9\u533a\u57df\u5927\u5c0f 420*420 \u5373\u4e0a\u4e0b\u5de6\u53f3\u7684\u5185\u95f4\u8ddd\u4e3a 40\u50cf\u7d20 \u6a21\u677f\u9884\u89c8\u56fe \u9884\u89c8\u56fe\u5927\u5c0f 500*500 \u50cf\u7d20 \u9884\u89c8\u56fe\u5e94\u5c3d\u53ef\u80fd\u7684\u8868\u73b0\u6a21\u677f\u4e3b\u8981\u7279\u5f81 \u63a7\u5236\u53f0\u6a21\u677f\u9884\u89c8\u56fe \u9884\u89c8\u56fe\u5927\u5c0f 500*300 \u9884\u89c8\u56fe\u5e94\u5c3d\u53ef\u80fd\u7684\u8868\u73b0\u6a21\u677f\u4e3b\u8981\u7279\u5f81 \u5185\u7f6e\u5b57\u4f53\u56fe\u6807 ionicons v5.4.0, \u4f7f\u7528\u65b9\u6cd5\u4e3a <i class=\"ion-person\"></i> fontawesome 5.0 free\u7248\u672c","title":"\u56fe\u6807\u5236\u4f5c"},{"location":"icons/#_1","text":"","title":"\u56fe\u6807\u89c4\u8303"},{"location":"icons/#_2","text":"\u56fe\u6807\u5927\u5c0f 500*500 \u50cf\u7d20 \u56fe\u6807\u5185\u5185\u5bb9\u533a\u57df\u5927\u5c0f 420*420 \u5373\u4e0a\u4e0b\u5de6\u53f3\u7684\u5185\u95f4\u8ddd\u4e3a 40\u50cf\u7d20","title":"\u5e94\u7528\u56fe\u6807\u89c4\u8303"},{"location":"icons/#_3","text":"\u9884\u89c8\u56fe\u5927\u5c0f 500*500 \u50cf\u7d20 \u9884\u89c8\u56fe\u5e94\u5c3d\u53ef\u80fd\u7684\u8868\u73b0\u6a21\u677f\u4e3b\u8981\u7279\u5f81","title":"\u6a21\u677f\u9884\u89c8\u56fe"},{"location":"icons/#_4","text":"\u9884\u89c8\u56fe\u5927\u5c0f 500*300 \u9884\u89c8\u56fe\u5e94\u5c3d\u53ef\u80fd\u7684\u8868\u73b0\u6a21\u677f\u4e3b\u8981\u7279\u5f81","title":"\u63a7\u5236\u53f0\u6a21\u677f\u9884\u89c8\u56fe"},{"location":"icons/#_5","text":"ionicons v5.4.0, \u4f7f\u7528\u65b9\u6cd5\u4e3a <i class=\"ion-person\"></i> fontawesome 5.0 free\u7248\u672c","title":"\u5185\u7f6e\u5b57\u4f53\u56fe\u6807"},{"location":"install/","text":"\u5b89\u88c5\u8bf4\u660e SUDA-\u901f\u642d \u7cfb\u7edf\u5f00\u53d1\u7ec4\u4ef6 Laravel >= 6.x PHP >= 7.2 MySQL >= 5.7 1. composer \u5b89\u88c5 composer require gtdxyz/suda 2. \u5b89\u88c5\u5305 \u8bf7\u5728\u7528\u6237\u4e2d\u5fc3\u4e0b\u8f7d\u5217\u8868\u4e2d\u4e0b\u8f7d\u5b89\u88c5\u5305. \u4e5f\u53ef\u81ea\u884c\u5b89\u88c5\u597d\u4e4b\u540e, \u9700\u8981\u4fee\u6539\u6587\u4ef6\u5982\u4e0b\uff1a config/app.php 1\uff09\u5c06\u8bed\u8a00\u4fee\u6539\u6210\u4e2d\u6587 'locale' => 'zh_CN', \u5c06\u65f6\u533a\u4fee\u6539\u4e3aGMT+8 'timezone' => 'Asia/Shanghai', 2\uff09\u66f4\u6539\u6570\u636e\u5e93\u914d\u7f6e config/database.php \u548c .env 3\uff09\u589e\u52a0guard config/auth.php \u589e\u52a0guard 'operate' => [ 'driver' => 'session', 'provider' => 'authsuda', ], \u589e\u52a0providers 'authsuda' => [ 'driver' => 'authsuda_provider', 'model' => Gtd\\Suda\\Models\\Operate::class, ], 3. \u6570\u636e\u5e93 \u4fee\u6539\u6570\u636e\u8868\u524d\u7f00 config/database.php \u4fee\u6539\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 .env MySQL 5.7+\u7248\u672c,\u6570\u636e\u5e93\u7f16\u7801 utf8mb4 4. \u6267\u884c\u66f4\u65b0 composer update 5. \u5b89\u88c5 SUDA php artisan suda:install \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4fee\u6539 config/sudaconf.php \u4e2d\u53c2\u6570 \u4f8b\u5982 \u53ef\u4fee\u6539\u6210\u81ea\u5b9a\u4e49\u7684\u540e\u53f0\u767b\u5f55\u5165\u53e3 'admin_path' => 'admin', 6. \u521d\u59cb\u767b\u9646\u8d26\u53f7\u548c\u5bc6\u7801 \u8d26\u53f7 admin@gtd.xyz \u5bc6\u7801 suda#2021","title":"\u5b89\u88c5\u6b65\u9aa4"},{"location":"install/#_1","text":"SUDA-\u901f\u642d \u7cfb\u7edf\u5f00\u53d1\u7ec4\u4ef6 Laravel >= 6.x PHP >= 7.2 MySQL >= 5.7","title":"\u5b89\u88c5\u8bf4\u660e"},{"location":"install/#1-composer","text":"composer require gtdxyz/suda","title":"1. composer \u5b89\u88c5"},{"location":"install/#2","text":"\u8bf7\u5728\u7528\u6237\u4e2d\u5fc3\u4e0b\u8f7d\u5217\u8868\u4e2d\u4e0b\u8f7d\u5b89\u88c5\u5305. \u4e5f\u53ef\u81ea\u884c\u5b89\u88c5\u597d\u4e4b\u540e, \u9700\u8981\u4fee\u6539\u6587\u4ef6\u5982\u4e0b\uff1a config/app.php 1\uff09\u5c06\u8bed\u8a00\u4fee\u6539\u6210\u4e2d\u6587 'locale' => 'zh_CN', \u5c06\u65f6\u533a\u4fee\u6539\u4e3aGMT+8 'timezone' => 'Asia/Shanghai', 2\uff09\u66f4\u6539\u6570\u636e\u5e93\u914d\u7f6e config/database.php \u548c .env 3\uff09\u589e\u52a0guard config/auth.php \u589e\u52a0guard 'operate' => [ 'driver' => 'session', 'provider' => 'authsuda', ], \u589e\u52a0providers 'authsuda' => [ 'driver' => 'authsuda_provider', 'model' => Gtd\\Suda\\Models\\Operate::class, ],","title":"2. \u5b89\u88c5\u5305"},{"location":"install/#3","text":"\u4fee\u6539\u6570\u636e\u8868\u524d\u7f00 config/database.php \u4fee\u6539\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 .env MySQL 5.7+\u7248\u672c,\u6570\u636e\u5e93\u7f16\u7801 utf8mb4","title":"3. \u6570\u636e\u5e93"},{"location":"install/#4","text":"composer update","title":"4. \u6267\u884c\u66f4\u65b0"},{"location":"install/#5-suda","text":"php artisan suda:install \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4fee\u6539 config/sudaconf.php \u4e2d\u53c2\u6570 \u4f8b\u5982 \u53ef\u4fee\u6539\u6210\u81ea\u5b9a\u4e49\u7684\u540e\u53f0\u767b\u5f55\u5165\u53e3 'admin_path' => 'admin',","title":"5. \u5b89\u88c5 SUDA"},{"location":"install/#6","text":"\u8d26\u53f7 admin@gtd.xyz \u5bc6\u7801 suda#2021","title":"6. \u521d\u59cb\u767b\u9646\u8d26\u53f7\u548c\u5bc6\u7801"},{"location":"theme/","text":"\u76ee\u5f55\u8bf4\u660e \u6b64\u65b9\u6cd5\u9002\u7528\u4e8e\u5236\u4f5c\u524d\u540e\u53f0\u98ce\u683c\u6a21\u677f\u3002 theme.php \u6a21\u677f\u914d\u7f6e\u6587\u4ef6 screenshot.png \u6a21\u677f\u9884\u89c8\u56fe design/ \u6a21\u677f\u7684\u6837\u5f0f\u8868\u548cJS\u6587\u4ef6 views/ \u6a21\u677f\u7684blade\u6587\u4ef6 \u5236\u4f5c\u65b9\u6cd5 1.\u914d\u7f6e\u6a21\u677f\u6587\u4ef6 theme.php <?php return[ 'your-theme-slug'=>[ 'name'=>'\u5b9a\u5236\u4e3b\u9898', 'description'=>'\u8fd9\u662f\u5b9a\u5236\u4e3b\u9898', 'version'=>'1.0', 'zhila_version'=>'>1.0',//=\u8868\u793a\u53ea\u662f\u914d\u5f53\u524d\u7248\u672c,>\u8868\u793a\u5fc5\u987b\u5927\u4e8e\u67d0\u4e2a\u7248\u672c,<\u8868\u793a\u5fc5\u987b\u5c0f\u4e8e\u67d0\u4e2a\u7248\u672c 'theme_url'=>'http://#', //\u4e3b\u9898\u5728\u7ebf\u5730\u5740 'author'=>'ZEST', 'author_email'=>'dev@suda.gtd.xyz', 'author_url'=>'https://#', ] ]; 2.\u751f\u6210\u6a21\u677f\u9884\u89c8\u56fe screenshot.png \u5efa\u8bae 500*500 \u50cf\u7d20 3.\u8bbe\u8ba1\u548c\u5236\u4f5c\u6a21\u677f \u8fdb\u884c\u8bbe\u8ba1\u548c\u5236\u4f5c\u6a21\u677f 3.1 \u8bbe\u8ba1\u6a21\u677f \u63a8\u8350\u4f7f\u7528 sketch.app 3.2 \u6a21\u677fblade $zhila \u662f\u6a21\u677f\u53ef\u76f4\u63a5\u4f7f\u7528\u7684\u53d8\u91cf\uff0c\u5305\u62ec title\u3001keywords\u3001description \u4ee5\u53ca\u5173\u4e8e\u5f53\u524d\u6a21\u677f\u7684\u63cf\u8ff0\u4fe1\u606f \u4f8b\u5982\uff1a\u7f51\u9875\u6807\u9898 <title>{{ metas($zcore) }}</title> JS\u5e38\u91cf\uff0c\u53ef\u4ee5\u50cf\u793a\u4f8b\u4ee3\u7801\u8fd9\u6837\u5b9a\u4e49\u5e38\u7528\u53d8\u91cf <script> window.suda = window.suda || {}; suda.meta = { csrfToken: \"{{csrf_token()}}\",url:\"{{url('/')}}\" } </script> blade \u8def\u5f84\u53c2\u6570 @include('view_app::layouts.sidebar') view_layout \u9ed8\u8ba4\u6307\u5411\u5230\u5f53\u524d\u6a21\u677f\u7684\u76ee\u5f55 \u5982\u679c\u662f\u5e94\u7528\u5f00\u53d1\uff0c\u4f7f\u7528 extension:: \u9ed8\u8ba4\u6307\u5411\u5230\u5e94\u7528\u7684resources/views/\u76ee\u5f55 4.\u66f4\u65b0\u6a21\u677f \u70b9\u51fb\u66f4\u65b0\u6a21\u677f\u7f13\u5b58\u5373\u53ef\u770b\u5230\u6700\u65b0\u7684\u6a21\u677f\u4fe1\u606f\u3002","title":"\u5236\u4f5c\u6a21\u677f"},{"location":"theme/#_1","text":"\u6b64\u65b9\u6cd5\u9002\u7528\u4e8e\u5236\u4f5c\u524d\u540e\u53f0\u98ce\u683c\u6a21\u677f\u3002 theme.php \u6a21\u677f\u914d\u7f6e\u6587\u4ef6 screenshot.png \u6a21\u677f\u9884\u89c8\u56fe design/ \u6a21\u677f\u7684\u6837\u5f0f\u8868\u548cJS\u6587\u4ef6 views/ \u6a21\u677f\u7684blade\u6587\u4ef6","title":"\u76ee\u5f55\u8bf4\u660e"},{"location":"theme/#_2","text":"","title":"\u5236\u4f5c\u65b9\u6cd5"},{"location":"theme/#1","text":"theme.php <?php return[ 'your-theme-slug'=>[ 'name'=>'\u5b9a\u5236\u4e3b\u9898', 'description'=>'\u8fd9\u662f\u5b9a\u5236\u4e3b\u9898', 'version'=>'1.0', 'zhila_version'=>'>1.0',//=\u8868\u793a\u53ea\u662f\u914d\u5f53\u524d\u7248\u672c,>\u8868\u793a\u5fc5\u987b\u5927\u4e8e\u67d0\u4e2a\u7248\u672c,<\u8868\u793a\u5fc5\u987b\u5c0f\u4e8e\u67d0\u4e2a\u7248\u672c 'theme_url'=>'http://#', //\u4e3b\u9898\u5728\u7ebf\u5730\u5740 'author'=>'ZEST', 'author_email'=>'dev@suda.gtd.xyz', 'author_url'=>'https://#', ] ];","title":"1.\u914d\u7f6e\u6a21\u677f\u6587\u4ef6"},{"location":"theme/#2","text":"screenshot.png \u5efa\u8bae 500*500 \u50cf\u7d20","title":"2.\u751f\u6210\u6a21\u677f\u9884\u89c8\u56fe"},{"location":"theme/#3","text":"\u8fdb\u884c\u8bbe\u8ba1\u548c\u5236\u4f5c\u6a21\u677f","title":"3.\u8bbe\u8ba1\u548c\u5236\u4f5c\u6a21\u677f"},{"location":"theme/#31","text":"\u63a8\u8350\u4f7f\u7528 sketch.app","title":"3.1 \u8bbe\u8ba1\u6a21\u677f"},{"location":"theme/#32-blade","text":"$zhila \u662f\u6a21\u677f\u53ef\u76f4\u63a5\u4f7f\u7528\u7684\u53d8\u91cf\uff0c\u5305\u62ec title\u3001keywords\u3001description \u4ee5\u53ca\u5173\u4e8e\u5f53\u524d\u6a21\u677f\u7684\u63cf\u8ff0\u4fe1\u606f \u4f8b\u5982\uff1a\u7f51\u9875\u6807\u9898 <title>{{ metas($zcore) }}</title> JS\u5e38\u91cf\uff0c\u53ef\u4ee5\u50cf\u793a\u4f8b\u4ee3\u7801\u8fd9\u6837\u5b9a\u4e49\u5e38\u7528\u53d8\u91cf <script> window.suda = window.suda || {}; suda.meta = { csrfToken: \"{{csrf_token()}}\",url:\"{{url('/')}}\" } </script> blade \u8def\u5f84\u53c2\u6570 @include('view_app::layouts.sidebar') view_layout \u9ed8\u8ba4\u6307\u5411\u5230\u5f53\u524d\u6a21\u677f\u7684\u76ee\u5f55 \u5982\u679c\u662f\u5e94\u7528\u5f00\u53d1\uff0c\u4f7f\u7528 extension:: \u9ed8\u8ba4\u6307\u5411\u5230\u5e94\u7528\u7684resources/views/\u76ee\u5f55","title":"3.2 \u6a21\u677fblade"},{"location":"theme/#4","text":"\u70b9\u51fb\u66f4\u65b0\u6a21\u677f\u7f13\u5b58\u5373\u53ef\u770b\u5230\u6700\u65b0\u7684\u6a21\u677f\u4fe1\u606f\u3002","title":"4.\u66f4\u65b0\u6a21\u677f"},{"location":"update/","text":"\u66f4\u65b0 \u5f00\u6e90\u7248\u672c #\u5728\u7ebf\u66f4\u65b0 composer update gtdxyz/suda \u4f01\u4e1a\u79c1\u6709\u90e8\u7f72 1. \u5728\u7528\u6237\u4e2d\u5fc3\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u66ff\u6362 2. \u66ff\u6362\u540e\u6267\u884c composer update gtd/suda \u8d44\u6e90/\u6570\u636e\u8868\u66f4\u65b0 #\u9759\u6001\u8d44\u6e90 php artisan suda:reset assets #\u81ea\u5e26\u6a21\u677f php artisan suda:reset themes #\u6570\u636e\u8868\u66f4\u65b0 php artisan migrate","title":"\u66f4\u65b0\u8bf4\u660e"},{"location":"update/#_1","text":"","title":"\u66f4\u65b0"},{"location":"update/#_2","text":"#\u5728\u7ebf\u66f4\u65b0 composer update gtdxyz/suda","title":"\u5f00\u6e90\u7248\u672c"},{"location":"update/#_3","text":"1. \u5728\u7528\u6237\u4e2d\u5fc3\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u66ff\u6362 2. \u66ff\u6362\u540e\u6267\u884c composer update gtd/suda","title":"\u4f01\u4e1a\u79c1\u6709\u90e8\u7f72"},{"location":"update/#_4","text":"#\u9759\u6001\u8d44\u6e90 php artisan suda:reset assets #\u81ea\u5e26\u6a21\u677f php artisan suda:reset themes #\u6570\u636e\u8868\u66f4\u65b0 php artisan migrate","title":"\u8d44\u6e90/\u6570\u636e\u8868\u66f4\u65b0"},{"location":"upgrade/","text":"\u7248\u672c\u5347\u7ea7\u8bf4\u660e \u4ece 5.0 \u7248\u672c\u5347\u7ea7 \u6838\u5fc3\u76ee\u5f55\u5df2\u7ecf\u66f4\u65b0\u4e3a gtd/suda Bootstrap \u5347\u7ea7\u4e3a4.4+\u7248\u672c \u5176\u4ed6\u66f4\u65b0\u548c\u5347\u7ea7\u8bf7\u53c2\u7167\u6700\u65b0\u7684\u6587\u6863","title":"Upgrade"},{"location":"upgrade/#_1","text":"","title":"\u7248\u672c\u5347\u7ea7\u8bf4\u660e"},{"location":"upgrade/#50","text":"\u6838\u5fc3\u76ee\u5f55\u5df2\u7ecf\u66f4\u65b0\u4e3a gtd/suda Bootstrap \u5347\u7ea7\u4e3a4.4+\u7248\u672c \u5176\u4ed6\u66f4\u65b0\u548c\u5347\u7ea7\u8bf7\u53c2\u7167\u6700\u65b0\u7684\u6587\u6863","title":"\u4ece 5.0 \u7248\u672c\u5347\u7ea7"},{"location":"widget/","text":"\u914d\u7f6e\u65b9\u6cd5 \u652f\u6301\u6a21\u677f\u6302\u4ef6 theme.php \u6a21\u677f\u914d\u7f6e\u4e2d\u652f\u6301\u6302\u4ef6\u533a\u57df\u8bbe\u7f6e 'widgets'=>[ 'sidebar'=>[ 'name'=>'\u4fa7\u8fb9\u680f', 'max'=>3, ], 'content'=>[ 'name'=>'\u5185\u5bb9\u680f', 'max'=>3, ] ] \u8bbe\u7f6e\u540e\u5373\u53ef\u5728\u540e\u53f0\u542f\u7528","title":"\u6a21\u677f\u63d2\u4ef6"},{"location":"widget/#_1","text":"\u652f\u6301\u6a21\u677f\u6302\u4ef6 theme.php \u6a21\u677f\u914d\u7f6e\u4e2d\u652f\u6301\u6302\u4ef6\u533a\u57df\u8bbe\u7f6e 'widgets'=>[ 'sidebar'=>[ 'name'=>'\u4fa7\u8fb9\u680f', 'max'=>3, ], 'content'=>[ 'name'=>'\u5185\u5bb9\u680f', 'max'=>3, ] ] \u8bbe\u7f6e\u540e\u5373\u53ef\u5728\u540e\u53f0\u542f\u7528","title":"\u914d\u7f6e\u65b9\u6cd5"},{"location":"basic/articles/","text":"\u6587\u7ae0 \u6587\u7ae0\u652f\u6301\u65e0\u9650\u6781\u5206\u7c7b \u6587\u7ae0\u652f\u6301\u6807\u7b7e\u529f\u80fd \u6587\u7ae0\u4e3b\u8981\u7528\u4e8e\u5e2e\u52a9\u521b\u5efa\u65b0\u95fb\u516c\u544a\u3001\u4ea7\u54c1\u65b0\u95fb\u3001\u535a\u5ba2\u7b49\u3002","title":"\u6587\u7ae0\u7ba1\u7406"},{"location":"basic/articles/#_1","text":"\u6587\u7ae0\u652f\u6301\u65e0\u9650\u6781\u5206\u7c7b \u6587\u7ae0\u652f\u6301\u6807\u7b7e\u529f\u80fd \u6587\u7ae0\u4e3b\u8981\u7528\u4e8e\u5e2e\u52a9\u521b\u5efa\u65b0\u95fb\u516c\u544a\u3001\u4ea7\u54c1\u65b0\u95fb\u3001\u535a\u5ba2\u7b49\u3002","title":"\u6587\u7ae0"},{"location":"basic/avatar/","text":"\u5934\u50cf\u7ba1\u7406 view\u8bbe\u7f6e \u5728 view \u4e2d\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570 @uploadCroppie('user',$user->avatar) \u5176\u4e2d $user->avatar \u7528\u4e8e\u7f16\u8f91\u65f6\u663e\u793a\u5934\u50cf \u4f7f\u7528\u540e\uff0c\u5728form\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u5c06\u4f1a\u81ea\u52a8\u65b0\u589e\u4e00\u4e2aavatar\u5b57\u6bb5 \u63a7\u5236\u5668\u65b9\u6cd5 \u5728\u63a7\u5236\u5176\u4e2d\u589e\u52a0\u4ee5\u4e0b\u65b9\u6cd5 use Gtd\\Suda\\Traits\\AvatarTrait; class ProfileController { use AvatarTrait; $this->uploadCroppie($request->avatar,'operate',$user_id); } //$request->avatar: \u4e0a\u4f20\u7684\u56fe\u50cf\u4fe1\u606f //operate: \u7528\u6237\u7c7b\u578b\uff0c\u53ef\u81ea\u5b9a\u4e49 //$user_id: \u7528\u6237ID Model\u8bbe\u7f6e \u589e\u52a0\u76f8\u5e94\u65b9\u6cd5 public function avatar() { return $this->hasOne('Gtd\\Suda\\Models\\Mediatable','mediatable_id','id')->where('mediatable_type','App\\Extensions\\your-ext-name\\Models\\User')->where('position','avatar')->with('media'); }","title":"\u7528\u6237\u5934\u50cf"},{"location":"basic/avatar/#_1","text":"","title":"\u5934\u50cf\u7ba1\u7406"},{"location":"basic/avatar/#view","text":"\u5728 view \u4e2d\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570 @uploadCroppie('user',$user->avatar) \u5176\u4e2d $user->avatar \u7528\u4e8e\u7f16\u8f91\u65f6\u663e\u793a\u5934\u50cf \u4f7f\u7528\u540e\uff0c\u5728form\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u5c06\u4f1a\u81ea\u52a8\u65b0\u589e\u4e00\u4e2aavatar\u5b57\u6bb5","title":"view\u8bbe\u7f6e"},{"location":"basic/avatar/#_2","text":"\u5728\u63a7\u5236\u5176\u4e2d\u589e\u52a0\u4ee5\u4e0b\u65b9\u6cd5 use Gtd\\Suda\\Traits\\AvatarTrait; class ProfileController { use AvatarTrait; $this->uploadCroppie($request->avatar,'operate',$user_id); } //$request->avatar: \u4e0a\u4f20\u7684\u56fe\u50cf\u4fe1\u606f //operate: \u7528\u6237\u7c7b\u578b\uff0c\u53ef\u81ea\u5b9a\u4e49 //$user_id: \u7528\u6237ID","title":"\u63a7\u5236\u5668\u65b9\u6cd5"},{"location":"basic/avatar/#model","text":"\u589e\u52a0\u76f8\u5e94\u65b9\u6cd5 public function avatar() { return $this->hasOne('Gtd\\Suda\\Models\\Mediatable','mediatable_id','id')->where('mediatable_type','App\\Extensions\\your-ext-name\\Models\\User')->where('position','avatar')->with('media'); }","title":"Model\u8bbe\u7f6e"},{"location":"basic/config/","text":"\u914d\u7f6e\u8bf4\u660e config/sudaconf.php \u8bbe\u7f6e\u9ed8\u8ba4\u6a21\u677f 'theme'=>[ 'site' =>'default', 'mobile'=>'default', ], \u57fa\u7840\u9759\u6001\u8d44\u6e90 'assets_path'=>'/vendor/suda/assets', \u8bed\u8a00\u5305 'locale'=>'zh-CN', \u662f\u5426\u663e\u793a\u7248\u6743\u4fe1\u606f 'with_copyright'=>false, \u5f3a\u5236https 'force_secure'=>false, \u9759\u6001\u8d44\u6e90\uff08\u56fe\u7247,css,js)\u7684\u52a0\u901f\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3aCDN\u5730\u5740 'static_host'=>'', \u56fe\u7247\u7684\u9ed8\u8ba4\u5b58\u50a8\u65b9\u5f0f \u56fe\u7247\u7684\u4e09\u4e2a\u5c3a\u5bf8\u7684\u5927\u5c0f\uff0c\u5f53\u4e0a\u4f20\u5c3a\u5bf8\u5927\u4e8e\u4ee5\u4e0b\u5c3a\u5bf8\u65f6\uff0c\u4f1a\u81ea\u52a8\u751f\u6210\u5bf9\u5e94\u7684\u56fe\u7247 'image' => [ 'storage'=>'local', 'size'=>[ 'small'=>200, 'medium'=>400, ] ], \u63a7\u5236\u9762\u677f\u9996\u9875\u7ec4\u4ef6 'widget'=>[ 'dashaboard'=>[ 'start'=>\\Gtd\\Suda\\Widgets\\Start::class, 'quickin'=>\\Gtd\\Suda\\Widgets\\Quickin::class, 'news'=>\\Gtd\\Suda\\Widgets\\News::class, ], 'entry'=>[ 'extension'=>\\Gtd\\Suda\\Widgets\\Entry\\Extension::class, ], ], \u9ed8\u8ba4\u63a7\u5236\u5668\u7684\u8def\u5f84 'controllers'=>[ 'namespace'=>[ 'admin'=>'Admin', 'site'=>'Site', 'mobile'=>'Mobile', ] ], \u63a7\u5236\u53f0\u767b\u5f55\u7684\u7528\u6237\u540d\uff0c\u53ef\u8bbe\u7f6e\u4e3aphone\u4f7f\u7528\u624b\u673a\u767b\u5f55 'operate_loginname'=>'email', \u63a7\u5236\u53f0\u8bbf\u95ee\u8def\u5f84\uff0c\u53ef\u4ee5\u4fee\u6539 'admin_path' => 'admin', \u53ef\u4ee5\u5355\u72ec\u4e3a\u63a7\u5236\u53f0\u8bbe\u7f6e\u7f13\u5b58\u65b9\u5f0f 'admin_cache' => 'file', \u9ed8\u8ba4\u83dc\u5355\u7ec4 'default_menu' => 'suda', \u662f\u5426\u542f\u7528\u4e13\u4e1a\u83dc\u5355\u7ec4 //'sidemenu_style' => 'pro', \u56fe\u7247\u5173\u8054\u6a21\u578b 'media'=>[ 'types_model'=>[ 'page'=>'Gtd\\Suda\\Models\\Page', 'article'=>'Gtd\\Suda\\Models\\Article', ] ],","title":"\u57fa\u7840\u914d\u7f6e"},{"location":"basic/config/#_1","text":"config/sudaconf.php \u8bbe\u7f6e\u9ed8\u8ba4\u6a21\u677f 'theme'=>[ 'site' =>'default', 'mobile'=>'default', ], \u57fa\u7840\u9759\u6001\u8d44\u6e90 'assets_path'=>'/vendor/suda/assets', \u8bed\u8a00\u5305 'locale'=>'zh-CN', \u662f\u5426\u663e\u793a\u7248\u6743\u4fe1\u606f 'with_copyright'=>false, \u5f3a\u5236https 'force_secure'=>false, \u9759\u6001\u8d44\u6e90\uff08\u56fe\u7247,css,js)\u7684\u52a0\u901f\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3aCDN\u5730\u5740 'static_host'=>'', \u56fe\u7247\u7684\u9ed8\u8ba4\u5b58\u50a8\u65b9\u5f0f \u56fe\u7247\u7684\u4e09\u4e2a\u5c3a\u5bf8\u7684\u5927\u5c0f\uff0c\u5f53\u4e0a\u4f20\u5c3a\u5bf8\u5927\u4e8e\u4ee5\u4e0b\u5c3a\u5bf8\u65f6\uff0c\u4f1a\u81ea\u52a8\u751f\u6210\u5bf9\u5e94\u7684\u56fe\u7247 'image' => [ 'storage'=>'local', 'size'=>[ 'small'=>200, 'medium'=>400, ] ], \u63a7\u5236\u9762\u677f\u9996\u9875\u7ec4\u4ef6 'widget'=>[ 'dashaboard'=>[ 'start'=>\\Gtd\\Suda\\Widgets\\Start::class, 'quickin'=>\\Gtd\\Suda\\Widgets\\Quickin::class, 'news'=>\\Gtd\\Suda\\Widgets\\News::class, ], 'entry'=>[ 'extension'=>\\Gtd\\Suda\\Widgets\\Entry\\Extension::class, ], ], \u9ed8\u8ba4\u63a7\u5236\u5668\u7684\u8def\u5f84 'controllers'=>[ 'namespace'=>[ 'admin'=>'Admin', 'site'=>'Site', 'mobile'=>'Mobile', ] ], \u63a7\u5236\u53f0\u767b\u5f55\u7684\u7528\u6237\u540d\uff0c\u53ef\u8bbe\u7f6e\u4e3aphone\u4f7f\u7528\u624b\u673a\u767b\u5f55 'operate_loginname'=>'email', \u63a7\u5236\u53f0\u8bbf\u95ee\u8def\u5f84\uff0c\u53ef\u4ee5\u4fee\u6539 'admin_path' => 'admin', \u53ef\u4ee5\u5355\u72ec\u4e3a\u63a7\u5236\u53f0\u8bbe\u7f6e\u7f13\u5b58\u65b9\u5f0f 'admin_cache' => 'file', \u9ed8\u8ba4\u83dc\u5355\u7ec4 'default_menu' => 'suda', \u662f\u5426\u542f\u7528\u4e13\u4e1a\u83dc\u5355\u7ec4 //'sidemenu_style' => 'pro',","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"basic/config/#_2","text":"'media'=>[ 'types_model'=>[ 'page'=>'Gtd\\Suda\\Models\\Page', 'article'=>'Gtd\\Suda\\Models\\Article', ] ],","title":"\u56fe\u7247\u5173\u8054\u6a21\u578b"},{"location":"basic/editor/","text":"\u7f16\u8f91\u5668 \u7f16\u8f91\u5668\u529f\u80fd\u96c6\u6210\u4e86\u56fe\u7247\u4e0a\u4f20\u7684\u63d2\u4ef6\uff0c\u5e76\u4e14\u9690\u85cf\u4e86summernote\u81ea\u5e26\u7684image\u4e0a\u4f20\u529f\u80fd\u3002 \u5982\u679c\u9700\u8981\u542f\u7528\u56fe\u7247\u4e0a\u4f20\u63d2\u4ef6\uff0c\u9700\u8981\u53c2\u7167 \u56fe\u7247\u9009\u6846\u7684\u5b9e\u73b0\u65b9\u6848 \uff0c\u5148\u542f\u7528\u56fe\u7247\u9009\u6846\u5373\u53ef\u3002 \u8f7d\u5165\u7f16\u8f91\u5668 @php $editor_height = 500; @endphp @include('view_app::component.editor',['height'=>$editor_height])","title":"\u7f16\u8f91\u5668"},{"location":"basic/editor/#_1","text":"\u7f16\u8f91\u5668\u529f\u80fd\u96c6\u6210\u4e86\u56fe\u7247\u4e0a\u4f20\u7684\u63d2\u4ef6\uff0c\u5e76\u4e14\u9690\u85cf\u4e86summernote\u81ea\u5e26\u7684image\u4e0a\u4f20\u529f\u80fd\u3002 \u5982\u679c\u9700\u8981\u542f\u7528\u56fe\u7247\u4e0a\u4f20\u63d2\u4ef6\uff0c\u9700\u8981\u53c2\u7167 \u56fe\u7247\u9009\u6846\u7684\u5b9e\u73b0\u65b9\u6848 \uff0c\u5148\u542f\u7528\u56fe\u7247\u9009\u6846\u5373\u53ef\u3002 \u8f7d\u5165\u7f16\u8f91\u5668 @php $editor_height = 500; @endphp @include('view_app::component.editor',['height'=>$editor_height])","title":"\u7f16\u8f91\u5668"},{"location":"basic/extensions/","text":"\u5e94\u7528\u7ba1\u7406 \u5e94\u7528\u7ba1\u7406\u7684\u4e3b\u8981\u529f\u80fd\u6709\uff1a \u5e94\u7528\u5b89\u88c5\u548c\u5378\u8f7d \u901a\u8fc7\u5b89\u88c5\u548c\u5378\u8f7d\u5e94\u7528\uff0c\u53ef\u4ee5\u5feb\u901f\u6784\u5efa\u4e0d\u540c\u7684\u5e94\u7528\u7cfb\u7edf\u3002 \u5e94\u7528\u7f13\u5b58\u7ba1\u7406 \u5e94\u7528\u4fe1\u606f\u5168\u90e8\u5df2\u7ecf\u652f\u6301\u7f13\u5b58\uff0c\u901a\u8fc7\u66f4\u65b0\u7f13\u5b58\u53ef\u4ee5\u66f4\u65b0\u5e94\u7528\u76ee\u5f55\u548c\u5e94\u7528\u4fe1\u606f\uff0c\u5305\u62ec\u5e94\u7528\u7684\u57fa\u7840\u4fe1\u606f\u3001\u5e94\u7528\u7684assets\u7b49\u9759\u6001\u8d44\u6e90\u3001\u5e94\u7528\u7684\u6570\u636e\u66f4\u65b0\u6587\u4ef6\u3002","title":"\u5e94\u7528\u7ba1\u7406"},{"location":"basic/extensions/#_1","text":"\u5e94\u7528\u7ba1\u7406\u7684\u4e3b\u8981\u529f\u80fd\u6709\uff1a \u5e94\u7528\u5b89\u88c5\u548c\u5378\u8f7d \u901a\u8fc7\u5b89\u88c5\u548c\u5378\u8f7d\u5e94\u7528\uff0c\u53ef\u4ee5\u5feb\u901f\u6784\u5efa\u4e0d\u540c\u7684\u5e94\u7528\u7cfb\u7edf\u3002 \u5e94\u7528\u7f13\u5b58\u7ba1\u7406 \u5e94\u7528\u4fe1\u606f\u5168\u90e8\u5df2\u7ecf\u652f\u6301\u7f13\u5b58\uff0c\u901a\u8fc7\u66f4\u65b0\u7f13\u5b58\u53ef\u4ee5\u66f4\u65b0\u5e94\u7528\u76ee\u5f55\u548c\u5e94\u7528\u4fe1\u606f\uff0c\u5305\u62ec\u5e94\u7528\u7684\u57fa\u7840\u4fe1\u606f\u3001\u5e94\u7528\u7684assets\u7b49\u9759\u6001\u8d44\u6e90\u3001\u5e94\u7528\u7684\u6570\u636e\u66f4\u65b0\u6587\u4ef6\u3002","title":"\u5e94\u7528\u7ba1\u7406"},{"location":"basic/filterbox/","text":"\u53f3\u4fa7\u6ed1\u51fa\u6846 \u53ef\u5728\u63a7\u5236\u540e\u53f0\u53c2\u7167\u6587\u7ae0\u7684\u66f4\u591a\u7b5b\u9009\u529f\u80fd \u5185\u7f6e\u51fd\u6570\u5df2\u7ecf\u652f\u6301\u8c03\u7528\u6ed1\u51fa\u6846\u548c\u6309\u94ae\u52a8\u4f5c\u3001\u5206\u9875\u7684ajax\u64cd\u4f5c View \u5b9a\u4e49 \u5b9a\u4e49\u4e00\u4e2a\u6309\u94ae <button class=\"btn btn-light more-filter\" data-element=\".data-list\"><i class=\"icon ion-options\"></i>&nbsp;\u66f4\u591a\u7b5b\u9009</button> \u5173\u952e\u53c2\u6570 more-filter \u7528\u4e8e\u8d4b\u4e88\u52a8\u4f5c \u5173\u952e\u53c2\u6570 data-element \u5b9a\u4e49\u641c\u7d22\u7ed3\u679c\u7684\u66ff\u6362\u4f4d\u7f6e \u5f15\u5165 filter \u6587\u4ef6 @include('view_suda::admin.article.filter') <div class=\"more-filter-section\" id=\"filter-options\"> <a href=\"javascript:void(0)\" class=\"filter-close\"></a> <h5 class=\"title\"><i class=\"zly-screen\"></i>&nbsp;\u66f4\u591a\u7b5b\u9009</h5> <div class=\"col-sm-12 content\"> <!-- \u53ef\u4fee\u6539\u533a\u57df start --> <form action=\"{{ admin_url('article/filter') }}\" class=\"filter-form\"> <div class=\"form-group{{ $errors->has('title') ? ' has-error' : '' }}\" > <label for=\"title\" class=\"control-label\"> \u6807\u9898 </label> <input type=\"text\" name=\"title\" class=\"form-control form-control-sm\" id=\"title\" placeholder=\"\u8bf7\u8f93\u5165\u6807\u9898\"> </div> <div class=\"form-group\"> <!-- \u6309\u94ae\u4e0d\u53ef\u4fee\u6539 --> <button class=\"btn btn-primary btn-sm filter-submit\">\u7acb\u5373\u7b5b\u9009</button> <button class=\"btn btn-light btn-sm filter-reset\">\u91cd\u7f6e\u6761\u4ef6</button> </div> </form> <!-- \u53ef\u4fee\u6539\u533a\u57df end --> </div> </div> \u5b9a\u4e49JS @push('scripts') <script type=\"text/javascript\"> $(document).ready(function(){ $('.more-filter').zfilter(); }); </script> @endpush ArticleController \u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5 public function processFilter(Request $request) { if(!$request->filter){ return $this->responseAjax('error','\u67e5\u8be2\u5f02\u5e38,\u8bf7\u91cd\u65b0\u5c1d\u8bd5.'); } //\u6839\u636e\u83b7\u53d6\u7684\u6761\u4ef6\uff0c\u8fdb\u884c\u67e5\u8be2\u83b7\u53d6\u76f8\u5e94\u7684\u6587\u4ef6 //$data = Article::where()... $this->setData('data_list',$data); //\u76f4\u63a5\u8f93\u51faHTML\u5185\u5bb9 return $this->display('article.list_content')->render(); }","title":"\u4fa7\u8fb9\u6846"},{"location":"basic/filterbox/#_1","text":"\u53ef\u5728\u63a7\u5236\u540e\u53f0\u53c2\u7167\u6587\u7ae0\u7684\u66f4\u591a\u7b5b\u9009\u529f\u80fd \u5185\u7f6e\u51fd\u6570\u5df2\u7ecf\u652f\u6301\u8c03\u7528\u6ed1\u51fa\u6846\u548c\u6309\u94ae\u52a8\u4f5c\u3001\u5206\u9875\u7684ajax\u64cd\u4f5c","title":"\u53f3\u4fa7\u6ed1\u51fa\u6846"},{"location":"basic/filterbox/#view","text":"","title":"View \u5b9a\u4e49"},{"location":"basic/filterbox/#_2","text":"<button class=\"btn btn-light more-filter\" data-element=\".data-list\"><i class=\"icon ion-options\"></i>&nbsp;\u66f4\u591a\u7b5b\u9009</button> \u5173\u952e\u53c2\u6570 more-filter \u7528\u4e8e\u8d4b\u4e88\u52a8\u4f5c \u5173\u952e\u53c2\u6570 data-element \u5b9a\u4e49\u641c\u7d22\u7ed3\u679c\u7684\u66ff\u6362\u4f4d\u7f6e","title":"\u5b9a\u4e49\u4e00\u4e2a\u6309\u94ae"},{"location":"basic/filterbox/#filter","text":"@include('view_suda::admin.article.filter') <div class=\"more-filter-section\" id=\"filter-options\"> <a href=\"javascript:void(0)\" class=\"filter-close\"></a> <h5 class=\"title\"><i class=\"zly-screen\"></i>&nbsp;\u66f4\u591a\u7b5b\u9009</h5> <div class=\"col-sm-12 content\"> <!-- \u53ef\u4fee\u6539\u533a\u57df start --> <form action=\"{{ admin_url('article/filter') }}\" class=\"filter-form\"> <div class=\"form-group{{ $errors->has('title') ? ' has-error' : '' }}\" > <label for=\"title\" class=\"control-label\"> \u6807\u9898 </label> <input type=\"text\" name=\"title\" class=\"form-control form-control-sm\" id=\"title\" placeholder=\"\u8bf7\u8f93\u5165\u6807\u9898\"> </div> <div class=\"form-group\"> <!-- \u6309\u94ae\u4e0d\u53ef\u4fee\u6539 --> <button class=\"btn btn-primary btn-sm filter-submit\">\u7acb\u5373\u7b5b\u9009</button> <button class=\"btn btn-light btn-sm filter-reset\">\u91cd\u7f6e\u6761\u4ef6</button> </div> </form> <!-- \u53ef\u4fee\u6539\u533a\u57df end --> </div> </div>","title":"\u5f15\u5165 filter \u6587\u4ef6"},{"location":"basic/filterbox/#js","text":"@push('scripts') <script type=\"text/javascript\"> $(document).ready(function(){ $('.more-filter').zfilter(); }); </script> @endpush","title":"\u5b9a\u4e49JS"},{"location":"basic/filterbox/#articlecontroller","text":"public function processFilter(Request $request) { if(!$request->filter){ return $this->responseAjax('error','\u67e5\u8be2\u5f02\u5e38,\u8bf7\u91cd\u65b0\u5c1d\u8bd5.'); } //\u6839\u636e\u83b7\u53d6\u7684\u6761\u4ef6\uff0c\u8fdb\u884c\u67e5\u8be2\u83b7\u53d6\u76f8\u5e94\u7684\u6587\u4ef6 //$data = Article::where()... $this->setData('data_list',$data); //\u76f4\u63a5\u8f93\u51faHTML\u5185\u5bb9 return $this->display('article.list_content')->render(); }","title":"ArticleController \u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5"},{"location":"basic/functions/","text":"\u5185\u7f6e\u51fd\u6570 \u540c\u65b9\u6cd5asset, \u652f\u6301\u4f7f\u7528\u52a0\u901f\u7684CDN\u9759\u6001\u8d44\u6e90\u94fe\u63a5 passet($path,$secure=null) \u5b9a\u4f4d\u5230\u57fa\u7840\u9759\u6001\u8d44\u6e90\u76ee\u5f55 suda_path($path='') \u5b9a\u4f4d\u6a21\u677f\u76ee\u5f55 theme_path($path='') \u56fe\u7247\u663e\u793a $data = Media::first(); $options=[ size=\"\u5c3a\u5bf8\u5927\u5c0f,small,medium,large\", imageClass=\"\u8f93\u51fa\u7684\u56fe\u7247\u6837\u5f0f\", 'title'=>'\u56fe\u7247\u540d\u79f0', 'url'=>'\u662f\u5426\u53ea\u8f93\u51faurl' ]; suda_image($data,$options=[],$cdn=true); \u5934\u50cf\u663e\u793a suda_avatar($avatar,$size,$return_url=false); \u5224\u65ad\u79fb\u52a8\u7aef isMobile(); \u540e\u53f0\u94fe\u63a5 //\u4f7f\u7528\u65b9\u6cd5\u540curl, \u4f1a\u81ea\u52a8\u589e\u52a0\u540e\u53f0\u8def\u5f84\u524d\u7f00 admin_url(); \u5e94\u7528\u8def\u5f84 extension_path($path=''); \u5e94\u7528\u9759\u6001\u8d44\u6e90 //\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5e94\u7528\u7684slug extension_asset($slug,$path=\"\"); \u6a21\u677f\u76ee\u5f55\u8def\u5f84 //public/theme theme_path($path=\"\");","title":"\u5185\u7f6e\u51fd\u6570"},{"location":"basic/functions/#_1","text":"\u540c\u65b9\u6cd5asset, \u652f\u6301\u4f7f\u7528\u52a0\u901f\u7684CDN\u9759\u6001\u8d44\u6e90\u94fe\u63a5 passet($path,$secure=null) \u5b9a\u4f4d\u5230\u57fa\u7840\u9759\u6001\u8d44\u6e90\u76ee\u5f55 suda_path($path='') \u5b9a\u4f4d\u6a21\u677f\u76ee\u5f55 theme_path($path='') \u56fe\u7247\u663e\u793a $data = Media::first(); $options=[ size=\"\u5c3a\u5bf8\u5927\u5c0f,small,medium,large\", imageClass=\"\u8f93\u51fa\u7684\u56fe\u7247\u6837\u5f0f\", 'title'=>'\u56fe\u7247\u540d\u79f0', 'url'=>'\u662f\u5426\u53ea\u8f93\u51faurl' ]; suda_image($data,$options=[],$cdn=true); \u5934\u50cf\u663e\u793a suda_avatar($avatar,$size,$return_url=false); \u5224\u65ad\u79fb\u52a8\u7aef isMobile(); \u540e\u53f0\u94fe\u63a5 //\u4f7f\u7528\u65b9\u6cd5\u540curl, \u4f1a\u81ea\u52a8\u589e\u52a0\u540e\u53f0\u8def\u5f84\u524d\u7f00 admin_url(); \u5e94\u7528\u8def\u5f84 extension_path($path=''); \u5e94\u7528\u9759\u6001\u8d44\u6e90 //\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5e94\u7528\u7684slug extension_asset($slug,$path=\"\"); \u6a21\u677f\u76ee\u5f55\u8def\u5f84 //public/theme theme_path($path=\"\");","title":"\u5185\u7f6e\u51fd\u6570"},{"location":"basic/media/","text":"\u56fe\u7247\u6587\u4ef6\u7ba1\u7406 \u56fe\u7247\u8d44\u6e90\u6570\u636e\u8868 medias \u5b58\u50a8\u56fe\u7247\u6570\u636e mediatables \u56fe\u7247\u6570\u636e\u5173\u7cfb\u8868 \u5177\u4f53\u53ef\u67e5\u770b\u6570\u636e\u8868\u5b57\u6bb5\u3002 1. \u5b9a\u4e49media //Model\u5b9a\u4e49 use Gtd\\Suda\\Traits\\MediaTrait; class Album extends Model { use MediaTrait; public function media_images() { return $this->hasMany('Gtd\\Suda\\Models\\Mediatable','mediatable_id','id')->where('mediatable_type','App\\Extensions\\Demo\\Models\\Album')->where('position','album')->with('media'); } } \u5176\u4e2dmediatable_type \u5bf9\u5e94\u7684\u914d\u7f6e\u5728config/suda_custom.php\u4e2d\u65b0\u589e 'media'=>[ 'types_model'=>[ //\u589e\u52a0\u4e00\u884c 'album'=>'App\\Extensions\\Startup\\Models\\Album', ] ] \u5728\u63a7\u5236\u5668\u4e2d\u4f7f\u7528\u65f6 $album->with('media_images'); 2. \u4e0a\u4f20\u7ec4\u4ef6 \u5728blade\u4e2d\u76f4\u63a5\u4f7f\u7528 // album \u8868\u793a\u5bf9\u5e94\u56fe\u7247\u7684\u5173\u8054\u7c7b\u578b // 4 \u8868\u793a\u6700\u5927\u4e0a\u4f20\u6570\u91cf // 2 \u8868\u793a\u6bcf\u884c\u663e\u793a\u7684\u4e0a\u4f20\u6846\u662f2\u4e2a, \u5373\u663e\u793a2\u884c // $media\u8868\u793a\u56fe\u7247\u4fe1\u606f\uff0c\u589e\u52a0\u65f6\u53ef\u4e3a\u7a7a @uploadBox(['album','4','2',$media]) \u5b9a\u4e49\u56fe\u7247\u7684\u8def\u7531\u4fe1\u606f\uff08\u5fc5\u987b\uff09 @push('scripts') <script type=\"text/javascript\"> $(document).ready(function(){ $.fn.mediabox({ media_type: 'editor',//\u7c7b\u578b modal_url: 'sdone/modal/media/editor',//\u6253\u5f00\u56fe\u7247\u7a97\u53e3 upload_url: 'sdone/upload/image/editor'//\u4e0a\u4f20\u94fe\u63a5 }); }) </script> @endpush \u8bf4\u660e: uploadBox \u7ec4\u4ef6\u4f7f\u7528\u65f6\uff0c\u9700\u8981\u914d\u5408\u56fe\u7247\u9009\u6846. 3. \u56fe\u7247\u9009\u6846 \u5728\u4e86\u89e3\u4ee5\u4e0a\u5185\u5bb9\u540e\uff0c\u914d\u5408uploadBox\u7684\u4f7f\u7528\uff0c\u56fe\u7247\u9009\u6846\u7684\u8bbe\u7f6e\u975e\u5e38\u7b80\u5355 1.\u8bbe\u7f6e\u8def\u7531 //\u8c03\u53d6\u56fe\u7247\u4e0a\u4f20\u754c\u9762 Route::get('\u4f60\u7684\u81ea\u5b9a\u4e49\u8def\u5f84/{media_type}','MediasController@modal'); //\u56fe\u7247\u4e0a\u4f20\u5904\u7406 Route::post('{\u4f60\u7684\u81ea\u5b9a\u4e49\u8def\u5f84}/{media_type}','MediasController@uploadImage'); \u8fd9\u91cc\u7684 media_type \u5fc5\u987b\u5199\u6210\u4f20\u53c2\u7684\u65b9\u5f0f\u624d\u53ef\u4ee5\u6267\u884c\u3002 \u5185\u7f6e\u7684modal\u65b9\u6cd5\u548cuploadImage\u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5c31\u662fmedia_type 2.\u8bbe\u7f6e\u4f60\u7684\u56fe\u7247\u63a7\u5236\u5668 namespace \u4f60\u7684\u8def\u5f84\\Controllers; //\u628a\u8fd9\u91cc\u6539\u4e3a\u81ea\u5df1\u9700\u8981\u4f7f\u7528\u7684\u63a7\u5236\u5668\uff0c\u624d\u80fd\u83b7\u53d6\u5230\uff0c\u5e76\u4e14\u53ef\u4ee5\u8bbe\u7f6e\u5230$this->user; use App\\Extensions\\Demo\\Controllers\\Admin\\AdminController; use Gtd\\Suda\\Traits\\MediaBoxTrait; class MediasController extends DashboardController { use MediaBoxTrait; function mediaSetting(){ //\u53c2\u6570\u8bf4\u660e //guard: guard key, config/auth.php //onlyUser: \u9ed8\u8ba4false, \u662f\u5426\u53ea\u663e\u793a\u5f53\u524d\u7528\u6237 //resize: \u9ed8\u8ba4true,\u81ea\u52a8\u751f\u6210\u7f29\u7565\u56fe //ratio: \u9ed8\u8ba4false,\u662f\u5426\u7f29\u653e\u56fe\u7247 $this->guard = 'operate'; } } \u8bf4\u660e\uff1a \u5728MediaBoxTrait\u4e2d\u5df2\u7ecf\u5b9a\u4e49\u4e86\u56fe\u7247\u9009\u6846\u6240\u9700\u8981\u7684\u65b9\u6cd5\uff0c\u8fd9\u91cc\u63a7\u5236\u5668\u7684\u8bbe\u7f6e\u65b9\u6cd5\u662f\u4e3a\u4e86\u5728\u65b9\u6cd5\u4e2d\u53ef\u4ee5\u83b7\u53d6\u5bf9\u5e94\u7684\u7528\u6237\u4fe1\u606f\uff0c\u56e0\u4e3a\u4fdd\u5b58\u56fe\u7247\u9700\u8981\u7528\u6237\u7c7b\u578b\u548c\u7528\u6237ID\u3002 \u8fd9\u6837\u53ef\u4ee5\u652f\u6301\u5728\u591a\u4e2a\u5e94\u7528\u573a\u666f\u4e2d\u4f7f\u7528\u56fe\u7247\u9009\u6846, \u4f8b\u5982\u5546\u5bb6\u540e\u53f0\u3001\u7528\u6237\u4e2d\u5fc3\u53ef\u4ee5\u533a\u5206\u3002","title":"\u4e0a\u4f20\u56fe\u7247"},{"location":"basic/media/#_1","text":"\u56fe\u7247\u8d44\u6e90\u6570\u636e\u8868 medias \u5b58\u50a8\u56fe\u7247\u6570\u636e mediatables \u56fe\u7247\u6570\u636e\u5173\u7cfb\u8868 \u5177\u4f53\u53ef\u67e5\u770b\u6570\u636e\u8868\u5b57\u6bb5\u3002 1. \u5b9a\u4e49media //Model\u5b9a\u4e49 use Gtd\\Suda\\Traits\\MediaTrait; class Album extends Model { use MediaTrait; public function media_images() { return $this->hasMany('Gtd\\Suda\\Models\\Mediatable','mediatable_id','id')->where('mediatable_type','App\\Extensions\\Demo\\Models\\Album')->where('position','album')->with('media'); } } \u5176\u4e2dmediatable_type \u5bf9\u5e94\u7684\u914d\u7f6e\u5728config/suda_custom.php\u4e2d\u65b0\u589e 'media'=>[ 'types_model'=>[ //\u589e\u52a0\u4e00\u884c 'album'=>'App\\Extensions\\Startup\\Models\\Album', ] ] \u5728\u63a7\u5236\u5668\u4e2d\u4f7f\u7528\u65f6 $album->with('media_images'); 2. \u4e0a\u4f20\u7ec4\u4ef6 \u5728blade\u4e2d\u76f4\u63a5\u4f7f\u7528 // album \u8868\u793a\u5bf9\u5e94\u56fe\u7247\u7684\u5173\u8054\u7c7b\u578b // 4 \u8868\u793a\u6700\u5927\u4e0a\u4f20\u6570\u91cf // 2 \u8868\u793a\u6bcf\u884c\u663e\u793a\u7684\u4e0a\u4f20\u6846\u662f2\u4e2a, \u5373\u663e\u793a2\u884c // $media\u8868\u793a\u56fe\u7247\u4fe1\u606f\uff0c\u589e\u52a0\u65f6\u53ef\u4e3a\u7a7a @uploadBox(['album','4','2',$media]) \u5b9a\u4e49\u56fe\u7247\u7684\u8def\u7531\u4fe1\u606f\uff08\u5fc5\u987b\uff09 @push('scripts') <script type=\"text/javascript\"> $(document).ready(function(){ $.fn.mediabox({ media_type: 'editor',//\u7c7b\u578b modal_url: 'sdone/modal/media/editor',//\u6253\u5f00\u56fe\u7247\u7a97\u53e3 upload_url: 'sdone/upload/image/editor'//\u4e0a\u4f20\u94fe\u63a5 }); }) </script> @endpush \u8bf4\u660e: uploadBox \u7ec4\u4ef6\u4f7f\u7528\u65f6\uff0c\u9700\u8981\u914d\u5408\u56fe\u7247\u9009\u6846. 3. \u56fe\u7247\u9009\u6846 \u5728\u4e86\u89e3\u4ee5\u4e0a\u5185\u5bb9\u540e\uff0c\u914d\u5408uploadBox\u7684\u4f7f\u7528\uff0c\u56fe\u7247\u9009\u6846\u7684\u8bbe\u7f6e\u975e\u5e38\u7b80\u5355 1.\u8bbe\u7f6e\u8def\u7531 //\u8c03\u53d6\u56fe\u7247\u4e0a\u4f20\u754c\u9762 Route::get('\u4f60\u7684\u81ea\u5b9a\u4e49\u8def\u5f84/{media_type}','MediasController@modal'); //\u56fe\u7247\u4e0a\u4f20\u5904\u7406 Route::post('{\u4f60\u7684\u81ea\u5b9a\u4e49\u8def\u5f84}/{media_type}','MediasController@uploadImage'); \u8fd9\u91cc\u7684 media_type \u5fc5\u987b\u5199\u6210\u4f20\u53c2\u7684\u65b9\u5f0f\u624d\u53ef\u4ee5\u6267\u884c\u3002 \u5185\u7f6e\u7684modal\u65b9\u6cd5\u548cuploadImage\u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5c31\u662fmedia_type 2.\u8bbe\u7f6e\u4f60\u7684\u56fe\u7247\u63a7\u5236\u5668 namespace \u4f60\u7684\u8def\u5f84\\Controllers; //\u628a\u8fd9\u91cc\u6539\u4e3a\u81ea\u5df1\u9700\u8981\u4f7f\u7528\u7684\u63a7\u5236\u5668\uff0c\u624d\u80fd\u83b7\u53d6\u5230\uff0c\u5e76\u4e14\u53ef\u4ee5\u8bbe\u7f6e\u5230$this->user; use App\\Extensions\\Demo\\Controllers\\Admin\\AdminController; use Gtd\\Suda\\Traits\\MediaBoxTrait; class MediasController extends DashboardController { use MediaBoxTrait; function mediaSetting(){ //\u53c2\u6570\u8bf4\u660e //guard: guard key, config/auth.php //onlyUser: \u9ed8\u8ba4false, \u662f\u5426\u53ea\u663e\u793a\u5f53\u524d\u7528\u6237 //resize: \u9ed8\u8ba4true,\u81ea\u52a8\u751f\u6210\u7f29\u7565\u56fe //ratio: \u9ed8\u8ba4false,\u662f\u5426\u7f29\u653e\u56fe\u7247 $this->guard = 'operate'; } } \u8bf4\u660e\uff1a \u5728MediaBoxTrait\u4e2d\u5df2\u7ecf\u5b9a\u4e49\u4e86\u56fe\u7247\u9009\u6846\u6240\u9700\u8981\u7684\u65b9\u6cd5\uff0c\u8fd9\u91cc\u63a7\u5236\u5668\u7684\u8bbe\u7f6e\u65b9\u6cd5\u662f\u4e3a\u4e86\u5728\u65b9\u6cd5\u4e2d\u53ef\u4ee5\u83b7\u53d6\u5bf9\u5e94\u7684\u7528\u6237\u4fe1\u606f\uff0c\u56e0\u4e3a\u4fdd\u5b58\u56fe\u7247\u9700\u8981\u7528\u6237\u7c7b\u578b\u548c\u7528\u6237ID\u3002 \u8fd9\u6837\u53ef\u4ee5\u652f\u6301\u5728\u591a\u4e2a\u5e94\u7528\u573a\u666f\u4e2d\u4f7f\u7528\u56fe\u7247\u9009\u6846, \u4f8b\u5982\u5546\u5bb6\u540e\u53f0\u3001\u7528\u6237\u4e2d\u5fc3\u53ef\u4ee5\u533a\u5206\u3002","title":"\u56fe\u7247\u6587\u4ef6\u7ba1\u7406"},{"location":"basic/menu/","text":"\u83dc\u5355\u65b9\u6848 \u5185\u7f6e\u6709\u4e09\u79cd\u57fa\u7840\u7684\u65b9\u6848\u53ef\u4ee5\u4fee\u6539\u83dc\u5355\u8bbe\u7f6e\u3002 1. \u540e\u53f0\u83dc\u5355\u7ba1\u7406 {!! menu('menu_group_name','view_path' ['current_menu'=>$current_menu]) !!} \u5728\u7cfb\u7edf\u540e\u53f0\u53ef\u4ee5\u76f4\u63a5\u521b\u5efa\u83dc\u5355\uff0c\u83dc\u5355\u7684\u7ec4\u6210\u7531 \u83dc\u5355\u7ec4 \u548c \u83dc\u5355\u9879 \u7ec4\u6210\u3002 \u53c2\u65701 menu_group_name \u8c03\u7528\u83dc\u5355\u7ec4\u5c31\u53ea\u9700\u8981\u5c06\u7b2c\u4e00\u4e2a\u53c2\u6570 menu_group_name \u4fee\u6539\u6210\u5bf9\u5e94\u7684\u83dc\u5355\u7ec4\u540d\u79f0\u5373\u53ef\u3002 \u53c2\u65702 view \u662f\u6307\u83dc\u5355\u7684view\u6837\u5f0f\uff0c\u9ed8\u8ba4\u652f\u6301 sidebar \u548c topbar \u4e24\u79cd\u65b9\u6848\u3002 \u53c2\u65703 options, \u4ee5\u6570\u7ec4\u7684\u5f62\u5f0f\u4f20\u5165\u3002 \u652f\u6301\u7684\u53c2\u6570 current_menu \u8868\u793a\u5f53\u524d\u83dc\u5355 locale \u8868\u793a\u5f53\u524d\u8bed\u8a00 sidemenu_style \u6709 flat \u548c icon \u4e24\u79cd\u9009\u9879\u8868\u793a\u662f\u663e\u793a\u6587\u5b57\u83dc\u5355\u548c\u56fe\u6807\u83dc\u5355 2. \u81ea\u5b9a\u4e49\u5bfc\u822a\u83dc\u5355 config/suda_custom.php \u914d\u7f6e\u81ea\u5b9a\u4e49\u5bfc\u822a\u83dc\u5355\uff0c\u4e3b\u8981\u7528\u4e8e\u5b9a\u5236\u7279\u6b8a\u5165\u53e3\u4f7f\u7528 'navi'=>[ [ 'name'=>'\u6d4b\u8bd5\u83dc\u5355', 'icon'=>'zly-gear-s', 'url'=>'menu', 'target'=>'', // 'slug'=>'tool', 'children'=>[ 'tool_extend'=>[ 'name'=>'\u5b50\u83dc\u5355', 'icon'=>'zly-gear-s', 'url'=>'menu', 'target'=>'', 'slug'=>'tool_extend' ] ] ], ], \u8bf4\u660e \u83dc\u5355\u914d\u7f6e\u5fc5\u987b\u914d\u7f6eSlug \u901a\u8fc7 custom-navi \u7684\u65b9\u5f0f\u7ed3\u5408\u81ea\u5b9a\u4e49\u5f00\u53d1\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u4f3c extension \u7684\u6548\u679c\uff0c\u9002\u5408\u5b9a\u5236\u8981\u6c42\u7279\u6b8a\u7684\u5f00\u53d1\u9700\u6c42\u3002 3. \u5e94\u7528\u6269\u5c55\u83dc\u5355 \u53c2\u8003 \u5e94\u7528\u5f00\u53d1\u8bf4\u660e","title":"\u83dc\u5355\u7ba1\u7406"},{"location":"basic/menu/#_1","text":"\u5185\u7f6e\u6709\u4e09\u79cd\u57fa\u7840\u7684\u65b9\u6848\u53ef\u4ee5\u4fee\u6539\u83dc\u5355\u8bbe\u7f6e\u3002","title":"\u83dc\u5355\u65b9\u6848"},{"location":"basic/menu/#1","text":"{!! menu('menu_group_name','view_path' ['current_menu'=>$current_menu]) !!} \u5728\u7cfb\u7edf\u540e\u53f0\u53ef\u4ee5\u76f4\u63a5\u521b\u5efa\u83dc\u5355\uff0c\u83dc\u5355\u7684\u7ec4\u6210\u7531 \u83dc\u5355\u7ec4 \u548c \u83dc\u5355\u9879 \u7ec4\u6210\u3002 \u53c2\u65701 menu_group_name \u8c03\u7528\u83dc\u5355\u7ec4\u5c31\u53ea\u9700\u8981\u5c06\u7b2c\u4e00\u4e2a\u53c2\u6570 menu_group_name \u4fee\u6539\u6210\u5bf9\u5e94\u7684\u83dc\u5355\u7ec4\u540d\u79f0\u5373\u53ef\u3002 \u53c2\u65702 view \u662f\u6307\u83dc\u5355\u7684view\u6837\u5f0f\uff0c\u9ed8\u8ba4\u652f\u6301 sidebar \u548c topbar \u4e24\u79cd\u65b9\u6848\u3002 \u53c2\u65703 options, \u4ee5\u6570\u7ec4\u7684\u5f62\u5f0f\u4f20\u5165\u3002 \u652f\u6301\u7684\u53c2\u6570 current_menu \u8868\u793a\u5f53\u524d\u83dc\u5355 locale \u8868\u793a\u5f53\u524d\u8bed\u8a00 sidemenu_style \u6709 flat \u548c icon \u4e24\u79cd\u9009\u9879\u8868\u793a\u662f\u663e\u793a\u6587\u5b57\u83dc\u5355\u548c\u56fe\u6807\u83dc\u5355","title":"1. \u540e\u53f0\u83dc\u5355\u7ba1\u7406"},{"location":"basic/menu/#2","text":"config/suda_custom.php \u914d\u7f6e\u81ea\u5b9a\u4e49\u5bfc\u822a\u83dc\u5355\uff0c\u4e3b\u8981\u7528\u4e8e\u5b9a\u5236\u7279\u6b8a\u5165\u53e3\u4f7f\u7528 'navi'=>[ [ 'name'=>'\u6d4b\u8bd5\u83dc\u5355', 'icon'=>'zly-gear-s', 'url'=>'menu', 'target'=>'', // 'slug'=>'tool', 'children'=>[ 'tool_extend'=>[ 'name'=>'\u5b50\u83dc\u5355', 'icon'=>'zly-gear-s', 'url'=>'menu', 'target'=>'', 'slug'=>'tool_extend' ] ] ], ], \u8bf4\u660e \u83dc\u5355\u914d\u7f6e\u5fc5\u987b\u914d\u7f6eSlug \u901a\u8fc7 custom-navi \u7684\u65b9\u5f0f\u7ed3\u5408\u81ea\u5b9a\u4e49\u5f00\u53d1\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u4f3c extension \u7684\u6548\u679c\uff0c\u9002\u5408\u5b9a\u5236\u8981\u6c42\u7279\u6b8a\u7684\u5f00\u53d1\u9700\u6c42\u3002","title":"2. \u81ea\u5b9a\u4e49\u5bfc\u822a\u83dc\u5355"},{"location":"basic/menu/#3","text":"\u53c2\u8003 \u5e94\u7528\u5f00\u53d1\u8bf4\u660e","title":"3. \u5e94\u7528\u6269\u5c55\u83dc\u5355"},{"location":"basic/modalbox/","text":"\u6a21\u6001\u6846 \u63a7\u5236\u5668\u5b9a\u4e49 public function index() { $this->title('\u5e94\u7528\u6f14\u793a'); $this->setData('modal_title','\u8fd9\u91cc\u662f\u6807\u9898'); //\u5b9a\u4e49\u6807\u9898\u4e0a\u7684\u5c0f\u56fe\u6807 $this->setData('modal_icon_class','zly-setting-o'); return $this->display('index_demo'); } \u5728 index_demo.blade.php \u4e2d\u5b9a\u4e49 @extends('view_path::component.modal',['size'=>'sm']) @section('content') <div class=\"modal-body\"> <!-- \u8fd9\u91cc\u662f\u5185\u5bb9\u533a\u57df --> </div> <div class=\"modal-footer\"> <button type=\"submit\" class=\"btn btn-primary\">\u786e\u8ba4</button> </div> @endsection","title":"\u6a21\u6001\u6846"},{"location":"basic/modalbox/#_1","text":"\u63a7\u5236\u5668\u5b9a\u4e49 public function index() { $this->title('\u5e94\u7528\u6f14\u793a'); $this->setData('modal_title','\u8fd9\u91cc\u662f\u6807\u9898'); //\u5b9a\u4e49\u6807\u9898\u4e0a\u7684\u5c0f\u56fe\u6807 $this->setData('modal_icon_class','zly-setting-o'); return $this->display('index_demo'); } \u5728 index_demo.blade.php \u4e2d\u5b9a\u4e49 @extends('view_path::component.modal',['size'=>'sm']) @section('content') <div class=\"modal-body\"> <!-- \u8fd9\u91cc\u662f\u5185\u5bb9\u533a\u57df --> </div> <div class=\"modal-footer\"> <button type=\"submit\" class=\"btn btn-primary\">\u786e\u8ba4</button> </div> @endsection","title":"\u6a21\u6001\u6846"},{"location":"basic/pages/","text":"\u9875\u9762\u7ba1\u7406 \u524d\u53f0\u8bbf\u95ee\u8def\u5f84 page/list \u5373\u9875\u9762\u5217\u8868 \u901a\u8fc7\u521b\u5efa\u4e0d\u540c\u9875\u9762\uff0c\u53ef\u4ee5\u5feb\u901f\u521b\u5efa \u5173\u4e8e\u6211\u4eec\u3001\u8054\u7cfb\u6211\u4eec\u7b49\u9875\u9762","title":"\u9875\u9762\u7ba1\u7406"},{"location":"basic/pages/#_1","text":"\u524d\u53f0\u8bbf\u95ee\u8def\u5f84 page/list \u5373\u9875\u9762\u5217\u8868 \u901a\u8fc7\u521b\u5efa\u4e0d\u540c\u9875\u9762\uff0c\u53ef\u4ee5\u5feb\u901f\u521b\u5efa \u5173\u4e8e\u6211\u4eec\u3001\u8054\u7cfb\u6211\u4eec\u7b49\u9875\u9762","title":"\u9875\u9762\u7ba1\u7406"},{"location":"basic/policy/","text":"\u6743\u9650\u7ba1\u7406 \u7cfb\u7edf\u5185\u4ee5\u83dc\u5355\u7ed3\u6784\u4e3a\u57fa\u7840\uff0c\u5185\u7f6e\u89d2\u8272\u6743\u9650\u7684\u7ba1\u7406\u529f\u80fd\u3002 \u5e94\u7528\u83dc\u5355\u8bbe\u7f6e\u90e8\u5206\u8bf7\u53c2\u8003 <\u5e94\u7528\u5f00\u53d1> \u5f53\u5b8c\u6210\u5e94\u7528\u5b89\u88c5\u540e\uff0c\u53ef\u4ee5\u5728 \u7cfb\u7edf\u8bbe\u7f6e-\u89d2\u8272\u8bbe\u7f6e \u4e2d\u8bbe\u7f6e\u5e94\u7528\u6743\u9650\u3002 \u4ee5Demo\u5e94\u7528\u6765\u8bf4\u660e \u83dc\u5355\u7ed3\u6784\u5982\u4e0b return [ 'demo_menu'=>[ 'single' => true, 'title' => '\u6f14\u793a\u5e94\u7528', 'slug' => 'demo_menu', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-stack', 'target' => '_self', 'order' => 0, 'children' => [ [ 'title' => '\u6f14\u793a\u9996\u9875', 'slug' => 'demo_index', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-home', 'target' => '_self', 'order' => 0, ] ], ], ... \u5728\u63a7\u5236\u5668\u4e2d\u7684\u4f7f\u7528\u65b9\u6cd5 $this->gate('demo_menu.demo_index',false); gate\u65b9\u6cd5\uff1a \u53c2\u65701: \u83dc\u5355\u7ed3\u6784 \u53c2\u65702: \u8868\u793a\u662f\u5426\u662fajax\u8bf7\u6c42, \u5982\u679ctrue, \u5219\u8fd4\u56de\u5bf9\u5e94\u7684json\u683c\u5f0f\u7ed3\u679c \u81ea\u5b9a\u4e49Policy \u91cd\u5199AuthService \u4e0d\u5efa\u8bae\u6b64\u65b9\u5f0f\uff0c\u53ef\u80fd\u4f1a\u56e0\u4e3aLaravel\u7684\u7248\u672c\u5347\u7ea7\u6216\u8005 ZEST \u7684\u7248\u672c\u5347\u7ea7\u5bfc\u81f4\u67d0\u4e9b\u529f\u80fd\u5931\u6548\u3002 \u5f53\u7136\u5982\u679c\u4f60\u5bf9 Laravel \u7684\u7ed3\u6784\u8bbe\u8ba1\u975e\u5e38\u719f\u6089\u4e86\u89e3\uff0c\u4e5f\u53ef\u4ee5\u91c7\u7528\u6b64\u65b9\u6cd5\u6765\u5b9e\u73b0\u81ea\u5df1\u7684AuthService. \u4e86\u89e3 Laravel/Authorization","title":"\u6743\u9650\u65b9\u6848"},{"location":"basic/policy/#_1","text":"\u7cfb\u7edf\u5185\u4ee5\u83dc\u5355\u7ed3\u6784\u4e3a\u57fa\u7840\uff0c\u5185\u7f6e\u89d2\u8272\u6743\u9650\u7684\u7ba1\u7406\u529f\u80fd\u3002 \u5e94\u7528\u83dc\u5355\u8bbe\u7f6e\u90e8\u5206\u8bf7\u53c2\u8003 <\u5e94\u7528\u5f00\u53d1> \u5f53\u5b8c\u6210\u5e94\u7528\u5b89\u88c5\u540e\uff0c\u53ef\u4ee5\u5728 \u7cfb\u7edf\u8bbe\u7f6e-\u89d2\u8272\u8bbe\u7f6e \u4e2d\u8bbe\u7f6e\u5e94\u7528\u6743\u9650\u3002 \u4ee5Demo\u5e94\u7528\u6765\u8bf4\u660e \u83dc\u5355\u7ed3\u6784\u5982\u4e0b return [ 'demo_menu'=>[ 'single' => true, 'title' => '\u6f14\u793a\u5e94\u7528', 'slug' => 'demo_menu', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-stack', 'target' => '_self', 'order' => 0, 'children' => [ [ 'title' => '\u6f14\u793a\u9996\u9875', 'slug' => 'demo_index', 'url' => 'extension/demo/index', 'icon_class'=> 'zly-home', 'target' => '_self', 'order' => 0, ] ], ], ... \u5728\u63a7\u5236\u5668\u4e2d\u7684\u4f7f\u7528\u65b9\u6cd5 $this->gate('demo_menu.demo_index',false); gate\u65b9\u6cd5\uff1a \u53c2\u65701: \u83dc\u5355\u7ed3\u6784 \u53c2\u65702: \u8868\u793a\u662f\u5426\u662fajax\u8bf7\u6c42, \u5982\u679ctrue, \u5219\u8fd4\u56de\u5bf9\u5e94\u7684json\u683c\u5f0f\u7ed3\u679c","title":"\u6743\u9650\u7ba1\u7406"},{"location":"basic/policy/#policy","text":"\u91cd\u5199AuthService \u4e0d\u5efa\u8bae\u6b64\u65b9\u5f0f\uff0c\u53ef\u80fd\u4f1a\u56e0\u4e3aLaravel\u7684\u7248\u672c\u5347\u7ea7\u6216\u8005 ZEST \u7684\u7248\u672c\u5347\u7ea7\u5bfc\u81f4\u67d0\u4e9b\u529f\u80fd\u5931\u6548\u3002 \u5f53\u7136\u5982\u679c\u4f60\u5bf9 Laravel \u7684\u7ed3\u6784\u8bbe\u8ba1\u975e\u5e38\u719f\u6089\u4e86\u89e3\uff0c\u4e5f\u53ef\u4ee5\u91c7\u7528\u6b64\u65b9\u6cd5\u6765\u5b9e\u73b0\u81ea\u5df1\u7684AuthService. \u4e86\u89e3 Laravel/Authorization","title":"\u81ea\u5b9a\u4e49Policy"},{"location":"basic/route/","text":"\u8def\u7531 \u8def\u7531\u673a\u5236\u4e3b\u8981\u5206\u4e3a\uff1a \u63a7\u5236\u53f0\u8def\u7531 \u524d\u7aef\u8def\u7531 \u5e94\u7528\u8def\u7531 \u63a7\u5236\u53f0\u8def\u7531\u5c06\u4f1a\u81ea\u52a8\u5728\u6240\u6709\u94fe\u63a5\u4e0a\u9ed8\u8ba4\u589e\u52a0 admin_path \u8def\u5f84\u524d\u7f00 \u4f8b\u5982 http://your-domain/{admin_path}/user \u524d\u7aef\u8def\u7531\u914d\u7f6e web.php \u5e94\u7528\u8def\u7531\u4e3b\u8981\u662f\u6307\u5e94\u7528\u5305\u542b\u63a7\u5236\u53f0\u529f\u80fd\u7684\u65f6\u5019\uff0c\u8def\u7531\u7684\u7ec4\u6210\u65b9\u5f0f\u662f admin_path/extension_slug/your-route \u6269\u5c55\u5b66\u4e60 Laravel \u8def\u7531\u673a\u5236","title":"\u8def\u7531\u673a\u5236"},{"location":"basic/route/#_1","text":"\u8def\u7531\u673a\u5236\u4e3b\u8981\u5206\u4e3a\uff1a \u63a7\u5236\u53f0\u8def\u7531 \u524d\u7aef\u8def\u7531 \u5e94\u7528\u8def\u7531 \u63a7\u5236\u53f0\u8def\u7531\u5c06\u4f1a\u81ea\u52a8\u5728\u6240\u6709\u94fe\u63a5\u4e0a\u9ed8\u8ba4\u589e\u52a0 admin_path \u8def\u5f84\u524d\u7f00 \u4f8b\u5982 http://your-domain/{admin_path}/user \u524d\u7aef\u8def\u7531\u914d\u7f6e web.php \u5e94\u7528\u8def\u7531\u4e3b\u8981\u662f\u6307\u5e94\u7528\u5305\u542b\u63a7\u5236\u53f0\u529f\u80fd\u7684\u65f6\u5019\uff0c\u8def\u7531\u7684\u7ec4\u6210\u65b9\u5f0f\u662f admin_path/extension_slug/your-route \u6269\u5c55\u5b66\u4e60 Laravel \u8def\u7531\u673a\u5236","title":"\u8def\u7531"},{"location":"basic/setting/","text":"\u7cfb\u7edf\u8bbe\u7f6e \u4e3a\u4e86\u7cfb\u7edf\u7684\u5b89\u5168\u7a33\u5065\u548c\u6548\u7387\uff0c\u5efa\u8bae\u6709\u9650\u5ea6\u7684\u4f7f\u7528\u3002 Setting\u5168\u5c40\u53d8\u91cf\u7684\u56db\u4e2a\u91cd\u8981\u53c2\u6570\uff1agroup\u3001key\u3001type\u3001values \u4f8b\u5982\u5728\u63a7\u5236\u5668\u4e2d\u7684\u4f7f\u7528\u65b9\u6cd5 <?php namespace App\\Extensions\\Demo\\Controllers\\Admin\\User; use Request; use Gtd\\Suda\\DashboardController; use Gtd\\Suda\\Models\\Setting; class UserController extends DashboardController { public function settingSave(Request $request){ $data = [ 'key'=>'user_setting', 'group'=>'user', 'type'=>'text', 'values'=>'user_values', ]; $settingModel = new Setting; if($first = Setting::where(['key'=>'user_setting','group'=>'user'])->first()){ Setting::where(['key'=>'user_setting','group'=>'user'])->update($data); }else{ $settingModel->fill($data)->save(); } //\u66f4\u65b0Setting\u7f13\u5b58 //Setting::updateSettings(); return $this->responseAjax('success','\u4fdd\u5b58\u6210\u529f','user/setting'); } public function getSetting(){ $settings = Setting::where(['key'=>'user_setting','group'=>'user'])->first(); } }","title":"\u7cfb\u7edf\u8bbe\u7f6e"},{"location":"basic/setting/#_1","text":"\u4e3a\u4e86\u7cfb\u7edf\u7684\u5b89\u5168\u7a33\u5065\u548c\u6548\u7387\uff0c\u5efa\u8bae\u6709\u9650\u5ea6\u7684\u4f7f\u7528\u3002 Setting\u5168\u5c40\u53d8\u91cf\u7684\u56db\u4e2a\u91cd\u8981\u53c2\u6570\uff1agroup\u3001key\u3001type\u3001values \u4f8b\u5982\u5728\u63a7\u5236\u5668\u4e2d\u7684\u4f7f\u7528\u65b9\u6cd5 <?php namespace App\\Extensions\\Demo\\Controllers\\Admin\\User; use Request; use Gtd\\Suda\\DashboardController; use Gtd\\Suda\\Models\\Setting; class UserController extends DashboardController { public function settingSave(Request $request){ $data = [ 'key'=>'user_setting', 'group'=>'user', 'type'=>'text', 'values'=>'user_values', ]; $settingModel = new Setting; if($first = Setting::where(['key'=>'user_setting','group'=>'user'])->first()){ Setting::where(['key'=>'user_setting','group'=>'user'])->update($data); }else{ $settingModel->fill($data)->save(); } //\u66f4\u65b0Setting\u7f13\u5b58 //Setting::updateSettings(); return $this->responseAjax('success','\u4fdd\u5b58\u6210\u529f','user/setting'); } public function getSetting(){ $settings = Setting::where(['key'=>'user_setting','group'=>'user'])->first(); } }","title":"\u7cfb\u7edf\u8bbe\u7f6e"},{"location":"basic/tag/","text":"\u6807\u7b7e \u6807\u7b7e\u7684\u4f7f\u7528\u53ef\u4ee5\u53c2\u7167 \u5206\u7c7b\u7ba1\u7406 \u6765\u8fdb\u884c\u4f7f\u7528\uff0c\u8fdb\u884c\u6df1\u5ea6\u5b9a\u5236\u3002 1. Model \u8bbe\u7f6e Model\u4e2d\u7684\u8bbe\u7f6e use Illuminate\\Database\\Eloquent\\Model; use Gtd\\Suda\\Traits\\HasTaxonomies; class Article extens Model { use HasTaxonomies; public function tags(){ return $this->morphMany('Gtd\\Suda\\Models\\Taxable', 'taxable')->with(['taxonomy'=>function($query){ $query->where('taxonomy','post_tag')->with('term'); }]); } } \u83b7\u53d6\u67d0\u4e00\u6807\u7b7e\u4e0b\u7684\u5185\u5bb9 //request $tag_id Article::where(['enable'=>1])->whereHas('tags',function($query) use ($category_id){ $query->where('taxonomy_id',$tag_id); }) 2. \u63a7\u5236\u5668 \u8bbe\u7f6e <?php namespace Gtd\\Suda\\Http\\Controllers\\Admin\\Article; use Illuminate\\Http\\Request; use Gtd\\Suda\\Http\\Controllers\\Admin\\DashboardController; use Gtd\\Suda\\Models\\Article; use Gtd\\Suda\\Traits\\TagTrait; class TagController extends DashboardController { use TagTrait; public $redirect_url = 'article/tags'; public $taxonomy_name = 'post_tag'; function __construct(){ parent::__construct(); $this->title('\u6807\u7b7e\u7ba1\u7406'); $this->setMenu('article','article_tag'); } } \u53c2\u6570 $redirect_url \u8bbe\u7f6e\u6210\u529f\u548c\u5931\u8d25\u65f6\u7684\u8df3\u8f6cURL \u53c2\u6570 $taxonomy_name \u8bbe\u7f6e\u6807\u7b7e\u7684\u540d\u79f0 \u8bbe\u7f6e\u5206\u7c7b\u7684\u5217\u8868\u548c\u7ba1\u7406 public function viewConfig(){ return [ 'list'=>'view_root::taxonomy.tag.list', 'create'=>'view_root::taxonomy.tag.add', 'update'=>'view_root::taxonomy.tag.edit', ]; } \u8bbe\u7f6e\u76f8\u5173\u7684\u94fe\u63a5 //\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7684\u94fe\u63a5 public function buttonConfig(){ $buttons = []; $buttons['create'] = 'article/tag/add'; $buttons['update'] = 'article/tag/update'; $buttons['save'] = 'article/tag/save'; $buttons['delete'] = 'article/tag/delete'; $buttons['sort'] = 'article/tag/editsort'; return $buttons; } \u53ef\u6839\u636e\u9700\u8981\u8bbe\u7f6e\u8def\u7531\u5373\u53ef\u3002","title":"\u6807\u7b7e\u7ba1\u7406"},{"location":"basic/tag/#_1","text":"\u6807\u7b7e\u7684\u4f7f\u7528\u53ef\u4ee5\u53c2\u7167 \u5206\u7c7b\u7ba1\u7406 \u6765\u8fdb\u884c\u4f7f\u7528\uff0c\u8fdb\u884c\u6df1\u5ea6\u5b9a\u5236\u3002 1. Model \u8bbe\u7f6e Model\u4e2d\u7684\u8bbe\u7f6e use Illuminate\\Database\\Eloquent\\Model; use Gtd\\Suda\\Traits\\HasTaxonomies; class Article extens Model { use HasTaxonomies; public function tags(){ return $this->morphMany('Gtd\\Suda\\Models\\Taxable', 'taxable')->with(['taxonomy'=>function($query){ $query->where('taxonomy','post_tag')->with('term'); }]); } } \u83b7\u53d6\u67d0\u4e00\u6807\u7b7e\u4e0b\u7684\u5185\u5bb9 //request $tag_id Article::where(['enable'=>1])->whereHas('tags',function($query) use ($category_id){ $query->where('taxonomy_id',$tag_id); }) 2. \u63a7\u5236\u5668 \u8bbe\u7f6e <?php namespace Gtd\\Suda\\Http\\Controllers\\Admin\\Article; use Illuminate\\Http\\Request; use Gtd\\Suda\\Http\\Controllers\\Admin\\DashboardController; use Gtd\\Suda\\Models\\Article; use Gtd\\Suda\\Traits\\TagTrait; class TagController extends DashboardController { use TagTrait; public $redirect_url = 'article/tags'; public $taxonomy_name = 'post_tag'; function __construct(){ parent::__construct(); $this->title('\u6807\u7b7e\u7ba1\u7406'); $this->setMenu('article','article_tag'); } } \u53c2\u6570 $redirect_url \u8bbe\u7f6e\u6210\u529f\u548c\u5931\u8d25\u65f6\u7684\u8df3\u8f6cURL \u53c2\u6570 $taxonomy_name \u8bbe\u7f6e\u6807\u7b7e\u7684\u540d\u79f0 \u8bbe\u7f6e\u5206\u7c7b\u7684\u5217\u8868\u548c\u7ba1\u7406 public function viewConfig(){ return [ 'list'=>'view_root::taxonomy.tag.list', 'create'=>'view_root::taxonomy.tag.add', 'update'=>'view_root::taxonomy.tag.edit', ]; } \u8bbe\u7f6e\u76f8\u5173\u7684\u94fe\u63a5 //\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7684\u94fe\u63a5 public function buttonConfig(){ $buttons = []; $buttons['create'] = 'article/tag/add'; $buttons['update'] = 'article/tag/update'; $buttons['save'] = 'article/tag/save'; $buttons['delete'] = 'article/tag/delete'; $buttons['sort'] = 'article/tag/editsort'; return $buttons; } \u53ef\u6839\u636e\u9700\u8981\u8bbe\u7f6e\u8def\u7531\u5373\u53ef\u3002","title":"\u6807\u7b7e"},{"location":"basic/taxonomy/","text":"\u5206\u7c7b 1. Model \u8bbe\u7f6e Model\u4e2d\u7684\u8bbe\u7f6e use Illuminate\\Database\\Eloquent\\Model; use Gtd\\Suda\\Traits\\HasTaxonomies; class Article extens Model { use HasTaxonomies; //post_category \u4e3a\u81ea\u5b9a\u4e49\u7684\u5206\u7c7b\u8bc6\u522b\u5b57\u7b26\u4e32 public function categories(){ return $this->morphMany('Gtd\\Suda\\Models\\Taxable', 'taxable')->with(['taxonomy'=>function($query){ $query->where('taxonomy','post_category')->with('term'); }]); } } \u83b7\u53d6\u67d0\u4e00\u5206\u7c7b\u4e0b\u7684\u5185\u5bb9 //request $category_id Article::where(['enable'=>1])->whereHas('categories',function($query) use ($category_id){ $query->where('taxonomy_id',$category_id); }) 2. \u63a7\u5236\u5668 \u8bbe\u7f6e <?php namespace Gtd\\Suda\\Http\\Controllers\\Admin\\Article; use Illuminate\\Http\\Request; use Gtd\\Suda\\Http\\Controllers\\Admin\\DashboardController; use Gtd\\Suda\\Models\\Article; use Gtd\\Suda\\Traits\\TaxonomyTrait; class CategoryController extends DashboardController { use TaxonomyTrait; public $redirect_url = 'article/categories'; public $taxonomy_name = 'post_category'; function __construct(){ parent::__construct(); $this->title('\u7ba1\u7406\u5206\u7c7b'); $this->setMenu('article','article_category'); //\u589e\u52a0\u81ea\u5b9a\u4e49\u7684\u6743\u9650\u63a7\u5236 $this->middleware(function (Request $request, $next) { $this->gate('article.update',app(Article::class)); return $next($request); }); } } \u53c2\u6570 $redirect_url \u8bbe\u7f6e\u6210\u529f\u548c\u5931\u8d25\u65f6\u7684\u8df3\u8f6cURL \u53c2\u6570 $taxonomy_name \u8bbe\u7f6e\u5206\u7c7b\u7684\u540d\u79f0 \u8bbe\u7f6e\u5206\u7c7b\u7684\u5217\u8868\u548c\u7ba1\u7406 public function viewConfig(){ return [ 'list'=>'view_root::taxonomy.category.list', 'create'=>'view_root::taxonomy.category.add', 'update'=>'view_root::taxonomy.category.edit', ]; } \u8bbe\u7f6e\u76f8\u5173\u7684\u94fe\u63a5 //\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7684\u94fe\u63a5 public function buttonConfig(){ $buttons = []; $buttons['create'] = 'article/category/add'; $buttons['update'] = 'article/category/update'; $buttons['save'] = 'article/category/save'; $buttons['delete'] = 'article/category/delete'; $buttons['sort'] = 'article/category/editsort'; return $buttons; } \u53ef\u6839\u636e\u9700\u8981\u8bbe\u7f6e\u8def\u7531\u5373\u53ef \u5e38\u7528\u65b9\u6cd5 use Gtd\\Suda\\Models\\Taxonomy; //\u663e\u793a\u6240\u6709\u5206\u7c7b public function showCategories() { $taxonomyObj = new Taxonomy; $catgories = $taxonomyObj->lists('post_category'); $this->setData('categories',$catgories); return $this->display('article.category.list'); } //\u7f16\u8f91\u5206\u7c7b public function showEdit() { $term = Taxonomy::where('id',$id)->where('taxonomy','post_category')->with('term')->first(); if(!$term){ return $this->responseAjax('error','\u5206\u7c7b\u4e0d\u5b58\u5728'); } $this->setData('term',$term); $this->title('\u7f16\u8f91\u5206\u7c7b'); return $this->display('article.category.edit'); } //\u81ea\u5b9a\u4e49\u4fdd\u5b58\u5206\u7c7b public function save(Request $request) { //\u524d\u7f6e\u68c0\u67e5 start //\u524d\u7f6e\u68c0\u67e5 end if($id) { //\u7f16\u8f91 $taxonomy = Taxonomy::where('id',$request->id)->first(); $taxonomy->where('id',$taxonomy->id)->update([ 'term_id' => $taxonomy->term_id, 'taxonomy' => 'post_category', 'parent' => $request->parent, 'desc' => $request->desc, 'sort' => $request->sort, ]); Term::where('id','=',$taxonomy->term_id)->update([ 'name'=>$request->name, 'slug'=>$request->slug, 'taxonomy'=>'post_category', ]); } else { //\u65b0\u5efa $term = new Term; $term->fill([ 'name' => $request->name, 'slug' => $request->slug, 'taxonomy'=>'post_category' ])->save(); $taxonomy = Taxonomy::where('taxonomy','post_category')->where('term_id',$term->id)->first(); if(!$taxonomy){ $taxonomy = new Taxonomy; $taxonomy->fill([ 'term_id'=>$term->id, 'taxonomy'=>'post_category', 'parent'=>$request->parent, 'desc'=>$request->desc, 'sort'=>$request->sort, ])->save(); }else{ $taxonomy->where('id',$taxonomy->id)->update([ 'term_id'=>$term->id, 'taxonomy'=>'post_category', 'parent'=>$request->parent, 'desc'=>$request->desc, 'sort'=>$request->sort, ]); } } }","title":"\u5206\u7c7b\u7ba1\u7406"},{"location":"basic/taxonomy/#_1","text":"1. Model \u8bbe\u7f6e Model\u4e2d\u7684\u8bbe\u7f6e use Illuminate\\Database\\Eloquent\\Model; use Gtd\\Suda\\Traits\\HasTaxonomies; class Article extens Model { use HasTaxonomies; //post_category \u4e3a\u81ea\u5b9a\u4e49\u7684\u5206\u7c7b\u8bc6\u522b\u5b57\u7b26\u4e32 public function categories(){ return $this->morphMany('Gtd\\Suda\\Models\\Taxable', 'taxable')->with(['taxonomy'=>function($query){ $query->where('taxonomy','post_category')->with('term'); }]); } } \u83b7\u53d6\u67d0\u4e00\u5206\u7c7b\u4e0b\u7684\u5185\u5bb9 //request $category_id Article::where(['enable'=>1])->whereHas('categories',function($query) use ($category_id){ $query->where('taxonomy_id',$category_id); }) 2. \u63a7\u5236\u5668 \u8bbe\u7f6e <?php namespace Gtd\\Suda\\Http\\Controllers\\Admin\\Article; use Illuminate\\Http\\Request; use Gtd\\Suda\\Http\\Controllers\\Admin\\DashboardController; use Gtd\\Suda\\Models\\Article; use Gtd\\Suda\\Traits\\TaxonomyTrait; class CategoryController extends DashboardController { use TaxonomyTrait; public $redirect_url = 'article/categories'; public $taxonomy_name = 'post_category'; function __construct(){ parent::__construct(); $this->title('\u7ba1\u7406\u5206\u7c7b'); $this->setMenu('article','article_category'); //\u589e\u52a0\u81ea\u5b9a\u4e49\u7684\u6743\u9650\u63a7\u5236 $this->middleware(function (Request $request, $next) { $this->gate('article.update',app(Article::class)); return $next($request); }); } } \u53c2\u6570 $redirect_url \u8bbe\u7f6e\u6210\u529f\u548c\u5931\u8d25\u65f6\u7684\u8df3\u8f6cURL \u53c2\u6570 $taxonomy_name \u8bbe\u7f6e\u5206\u7c7b\u7684\u540d\u79f0 \u8bbe\u7f6e\u5206\u7c7b\u7684\u5217\u8868\u548c\u7ba1\u7406 public function viewConfig(){ return [ 'list'=>'view_root::taxonomy.category.list', 'create'=>'view_root::taxonomy.category.add', 'update'=>'view_root::taxonomy.category.edit', ]; } \u8bbe\u7f6e\u76f8\u5173\u7684\u94fe\u63a5 //\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7684\u94fe\u63a5 public function buttonConfig(){ $buttons = []; $buttons['create'] = 'article/category/add'; $buttons['update'] = 'article/category/update'; $buttons['save'] = 'article/category/save'; $buttons['delete'] = 'article/category/delete'; $buttons['sort'] = 'article/category/editsort'; return $buttons; } \u53ef\u6839\u636e\u9700\u8981\u8bbe\u7f6e\u8def\u7531\u5373\u53ef","title":"\u5206\u7c7b"},{"location":"basic/taxonomy/#_2","text":"use Gtd\\Suda\\Models\\Taxonomy; //\u663e\u793a\u6240\u6709\u5206\u7c7b public function showCategories() { $taxonomyObj = new Taxonomy; $catgories = $taxonomyObj->lists('post_category'); $this->setData('categories',$catgories); return $this->display('article.category.list'); } //\u7f16\u8f91\u5206\u7c7b public function showEdit() { $term = Taxonomy::where('id',$id)->where('taxonomy','post_category')->with('term')->first(); if(!$term){ return $this->responseAjax('error','\u5206\u7c7b\u4e0d\u5b58\u5728'); } $this->setData('term',$term); $this->title('\u7f16\u8f91\u5206\u7c7b'); return $this->display('article.category.edit'); } //\u81ea\u5b9a\u4e49\u4fdd\u5b58\u5206\u7c7b public function save(Request $request) { //\u524d\u7f6e\u68c0\u67e5 start //\u524d\u7f6e\u68c0\u67e5 end if($id) { //\u7f16\u8f91 $taxonomy = Taxonomy::where('id',$request->id)->first(); $taxonomy->where('id',$taxonomy->id)->update([ 'term_id' => $taxonomy->term_id, 'taxonomy' => 'post_category', 'parent' => $request->parent, 'desc' => $request->desc, 'sort' => $request->sort, ]); Term::where('id','=',$taxonomy->term_id)->update([ 'name'=>$request->name, 'slug'=>$request->slug, 'taxonomy'=>'post_category', ]); } else { //\u65b0\u5efa $term = new Term; $term->fill([ 'name' => $request->name, 'slug' => $request->slug, 'taxonomy'=>'post_category' ])->save(); $taxonomy = Taxonomy::where('taxonomy','post_category')->where('term_id',$term->id)->first(); if(!$taxonomy){ $taxonomy = new Taxonomy; $taxonomy->fill([ 'term_id'=>$term->id, 'taxonomy'=>'post_category', 'parent'=>$request->parent, 'desc'=>$request->desc, 'sort'=>$request->sort, ])->save(); }else{ $taxonomy->where('id',$taxonomy->id)->update([ 'term_id'=>$term->id, 'taxonomy'=>'post_category', 'parent'=>$request->parent, 'desc'=>$request->desc, 'sort'=>$request->sort, ]); } } }","title":"\u5e38\u7528\u65b9\u6cd5"},{"location":"basic/theme/","text":"\u6a21\u677f\u673a\u5236 \u540e\u53f0\u6a21\u677f \u7cfb\u7edf\u8bbe\u7f6e->\u9762\u677f\u8bbe\u7f6e \u53ef\u4ee5\u9009\u62e9\u4e0d\u540c\u7684\u9762\u677f\u4e3b\u9898\u98ce\u683c\u3002 \u524d\u53f0\u6a21\u677f \u5916\u89c2->\u4e3b\u9898 \u9009\u62e9\u4e0d\u540c\u7684\u98ce\u683c\u3002 \u5236\u4f5c\u6a21\u677f\u53c2\u8003 \u300a\u6a21\u677f\u5236\u4f5c\u300b","title":"\u6a21\u677f\u7ba1\u7406"},{"location":"basic/theme/#_1","text":"\u540e\u53f0\u6a21\u677f \u7cfb\u7edf\u8bbe\u7f6e->\u9762\u677f\u8bbe\u7f6e \u53ef\u4ee5\u9009\u62e9\u4e0d\u540c\u7684\u9762\u677f\u4e3b\u9898\u98ce\u683c\u3002 \u524d\u53f0\u6a21\u677f \u5916\u89c2->\u4e3b\u9898 \u9009\u62e9\u4e0d\u540c\u7684\u98ce\u683c\u3002 \u5236\u4f5c\u6a21\u677f\u53c2\u8003 \u300a\u6a21\u677f\u5236\u4f5c\u300b","title":"\u6a21\u677f\u673a\u5236"}]}